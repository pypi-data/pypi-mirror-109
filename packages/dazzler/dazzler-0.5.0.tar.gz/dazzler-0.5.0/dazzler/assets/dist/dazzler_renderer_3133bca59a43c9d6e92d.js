!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.dazzler_renderer=t(require("react"),require("react-dom")):e.dazzler_renderer=t(e.React,e.ReactDOM)}(self,(function(e,t){return(()=>{var n={96734:(e,t,n)=>{"use strict";function r(e){return e.split("").map((function(e,t){return e.charCodeAt(0)>96?e:t>0?"-".concat(e.toLowerCase()):e.toLowerCase()})).reduce((function(e,t){return e+t}))}n.d(t,{vF:()=>r})},7459:(e,t,n)=>{"use strict";n.d(t,{loadCss:()=>r.Yc,loadScript:()=>r.ve,camelToSpinal:()=>o.vF,disableCss:()=>r.Ex}),n(62666);var r=n(18510),o=n(96734)},18510:(e,t,n)=>{"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;return new Promise((function(n,r){var o,i={src:e,async:!0},a=document.createElement("script");Object.keys(i).forEach((function(e){return a.setAttribute(e,i[e])})),a.onload=function(){clearTimeout(o),n(e)},o=setTimeout((function(){a.src="",r({error:"".concat(e," did not load after ").concat(t,"ms")})}),t),document.querySelector("body").appendChild(a)}))}function o(e){var t=document.getElementById("css-".concat(e));t&&(t.setAttribute("disabled","disabled"),t.id=null)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;return new Promise((function(n,r){var i;o(e);var a={rel:"stylesheet",type:"text/css",href:e,media:"all",id:"css-".concat(e)},c=document.createElement("link");Object.keys(a).forEach((function(e){return c.setAttribute(e,a[e])})),c.onload=function(){clearTimeout(i),n(e)},i=setTimeout((function(){c.href="",r({error:"".concat(e," did not load after ").concat(t,"ms")})}),t),document.querySelector("head").appendChild(c)}))}n.d(t,{ve:()=>r,Ex:()=>o,Yc:()=>i})},64834:(e,t,n)=>{"use strict";n.r(t)},92703:(e,t,n)=>{"use strict";var r=n(50414);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},45697:(e,t,n)=>{e.exports=n(92703)()},50414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},62666:(e,t,n)=>{var r=n(64834);"string"==typeof r&&(r=[[e.id,r,""]]);n(76723)(r,{hmr:!0,transform:void 0,insertInto:void 0}),r.locals&&(e.exports=r.locals)},76723:(e,t,n)=>{var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),c=function(e,t){return t?t.querySelector(e):document.querySelector(e)},s=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=c.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),u=null,f=0,l=[],p=n(51947);function d(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(m(r.parts[a],t))}else{var c=[];for(a=0;a<r.parts.length;a++)c.push(m(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:c}}}}function y(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],c={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(c):n.push(r[a]={id:a,parts:[c]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertAt.before,n);n.insertBefore(t,o)}}function b(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function g(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=n.nc;r&&(e.attrs.nonce=r)}return v(t,e.attrs),h(e,t),t}function v(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function m(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var a=f++;n=u||(u=g(t)),r=j.bind(null,n,a,!1),o=j.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),h(e,t),t}(t),r=A.bind(null,n,t),o=function(){b(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),r=S.bind(null,n),o=function(){b(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=y(e,t);return d(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var a=n[o];(c=i[a.id]).refs--,r.push(c)}for(e&&d(y(e,t),t),o=0;o<r.length;o++){var c;if(0===(c=r[o]).refs){for(var s=0;s<c.parts.length;s++)c.parts[s]();delete i[c.id]}}}};var O,w=(O=[],function(e,t){return O[e]=t,O.filter(Boolean).join("\n")});function j(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function S(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function A(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=p(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),c=e.href;e.href=URL.createObjectURL(a),c&&URL.revokeObjectURL(c)}},51947:e=>{e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},63240:t=>{"use strict";t.exports=e},21569:e=>{"use strict";e.exports=t}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={id:e,exports:{}};return n[e](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{"use strict";o.r(i),o.d(i,{Renderer:()=>Ye,render:()=>Ve});var e=o(63240),t=o.n(e),n=o(21569),r=o.n(n),a=o(45697),c=o.n(a);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=/json/i,p={method:"GET",headers:{},payload:"",json:!0},d={"Content-Type":"application/json"};function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return new Promise((function(n,r){var o=u(u({},p),t),i=o.method,a=o.headers,c=o.payload,s=o.json,f=new XMLHttpRequest;f.open(i,e);var y=s?u(u({},d),a):a;Object.keys(y).forEach((function(e){return f.setRequestHeader(e,y[e])})),f.onreadystatechange=function(){if(f.readyState===XMLHttpRequest.DONE)if(200===f.status){var t=f.response;l.test(f.getResponseHeader("Content-Type"))&&(t=JSON.parse(f.responseText)),n(t)}else r({error:"RequestError",message:"XHR ".concat(e," FAILED - STATUS: ").concat(f.status," MESSAGE: ").concat(f.statusText),status:f.status,xhr:f})},f.onerror=function(e){return r(e)},f.send(s?JSON.stringify(c):c)}))}function h(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function b(e){return function t(n){return 0===arguments.length||h(n)?t:e.apply(this,arguments)}}const g=b((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function v(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return h(n)?t:b((function(t){return e(n,t)}));default:return h(n)&&h(r)?t:h(n)?b((function(t){return e(t,r)})):h(r)?b((function(t){return e(n,t)})):e(n,r)}}}const m=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function O(e){return null!=e&&"function"==typeof e["@@transducer/step"]}function w(e,t,n){return function(){if(0===arguments.length)return n();var r=Array.prototype.slice.call(arguments,0),o=r.pop();if(!m(o)){for(var i=0;i<e.length;){if("function"==typeof o[e[i]])return o[e[i]].apply(o,r);i+=1}if(O(o)){var a=t.apply(null,r);return a(o)}}return n.apply(this,arguments)}}function j(e,t){for(var n=0,r=t.length,o=Array(r);n<r;)o[n]=e(t[n]),n+=1;return o}function S(e){return"[object String]"===Object.prototype.toString.call(e)}const A=b((function(e){return!!m(e)||!!e&&"object"==typeof e&&!S(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1))}));var E=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();function P(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,o){return t.apply(this,arguments)};case 5:return function(e,n,r,o,i){return t.apply(this,arguments)};case 6:return function(e,n,r,o,i,a){return t.apply(this,arguments)};case 7:return function(e,n,r,o,i,a,c){return t.apply(this,arguments)};case 8:return function(e,n,r,o,i,a,c,s){return t.apply(this,arguments)};case 9:return function(e,n,r,o,i,a,c,s,u){return t.apply(this,arguments)};case 10:return function(e,n,r,o,i,a,c,s,u,f){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}const k=v((function(e,t){return P(e.length,(function(){return e.apply(t,arguments)}))}));function x(e,t,n){for(var r=n.next();!r.done;){if((t=e["@@transducer/step"](t,r.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)}function R(e,t,n,r){return e["@@transducer/result"](n[r](k(e["@@transducer/step"],e),t))}var T="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function C(e,t,n){if("function"==typeof e&&(e=function(e){return new E(e)}(e)),A(n))return function(e,t,n){for(var r=0,o=n.length;r<o;){if((t=e["@@transducer/step"](t,n[r]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"==typeof n["fantasy-land/reduce"])return R(e,t,n,"fantasy-land/reduce");if(null!=n[T])return x(e,t,n[T]());if("function"==typeof n.next)return x(e,t,n);if("function"==typeof n.reduce)return R(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}const _=function(){return this.xf["@@transducer/init"]()},q=function(e){return this.xf["@@transducer/result"](e)};var U=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=_,e.prototype["@@transducer/result"]=q,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}();const I=v((function(e,t){return new U(e,t)}));function N(e,t,n){return function(){for(var r=[],o=0,i=e,a=0;a<t.length||o<arguments.length;){var c;a<t.length&&(!h(t[a])||o>=arguments.length)?c=t[a]:(c=arguments[o],o+=1),r[a]=c,h(c)||(i-=1),a+=1}return i<=0?n.apply(this,r):P(i,N(e,r,n))}}const D=v((function(e,t){return 1===e?b(t):P(e,N(e,[],t))}));function M(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var L=Object.prototype.toString;const z=function(){return"[object Arguments]"===L.call(arguments)?function(e){return"[object Arguments]"===L.call(e)}:function(e){return M("callee",e)}}();var B=!{toString:null}.propertyIsEnumerable("toString"),F=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],J=function(){return arguments.propertyIsEnumerable("length")}(),H=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1};const W="function"!=typeof Object.keys||J?b((function(e){if(Object(e)!==e)return[];var t,n,r=[],o=J&&z(e);for(t in e)!M(t,e)||o&&"length"===t||(r[r.length]=t);if(B)for(n=F.length-1;n>=0;)M(t=F[n],e)&&!H(r,t)&&(r[r.length]=t),n-=1;return r})):b((function(e){return Object(e)!==e?[]:Object.keys(e)})),$=v(w(["fantasy-land/map","map"],I,(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return D(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return C((function(n,r){return n[r]=e(t[r]),n}),{},W(t));default:return j(e,t)}}))),G=v((function(e,t){for(var n={},r={},o=0,i=e.length;o<i;)r[e[o]]=1,o+=1;for(var a in t)r.hasOwnProperty(a)||(n[a]=t[a]);return n}));function X(e){return"[object Function]"===Object.prototype.toString.call(e)}function Y(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function V(e,t,n){for(var r=0,o=n.length;r<o;){if(e(t,n[r]))return!0;r+=1}return!1}const Z="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};function K(e,t,n,r){var o=Y(e);function i(e,t){return Q(e,t,n.slice(),r.slice())}return!V((function(e,t){return!V(i,t,e)}),Y(t),o)}function Q(e,t,n,r){if(Z(e,t))return!0;var o,i,a=g(e);if(a!==g(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(a){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(o=e.constructor,null==(i=String(o).match(/^function (\w*)/))?"":i[1]))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!Z(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!Z(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var c=n.length-1;c>=0;){if(n[c]===e)return r[c]===t;c-=1}switch(a){case"Map":return e.size===t.size&&K(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&K(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var s=W(e);if(s.length!==W(t).length)return!1;var u=n.concat([e]),f=r.concat([t]);for(c=s.length-1;c>=0;){var l=s[c];if(!M(l,t)||!Q(t[l],e[l],u,f))return!1;c-=1}return!0}const ee=v((function(e,t){return Q(e,t,[],[])}));function te(e){return'"'+e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var ne=function(e){return(e<10?"0":"")+e};const re="function"==typeof Date.prototype.toISOString?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+ne(e.getUTCMonth()+1)+"-"+ne(e.getUTCDate())+"T"+ne(e.getUTCHours())+":"+ne(e.getUTCMinutes())+":"+ne(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};var oe=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=_,e.prototype["@@transducer/result"]=q,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},e}();const ie=v(w(["filter"],v((function(e,t){return new oe(e,t)})),(function(e,t){return n=t,"[object Object]"===Object.prototype.toString.call(n)?C((function(n,r){return e(t[r])&&(n[r]=t[r]),n}),{},W(t)):function(e,t){for(var n=0,r=t.length,o=[];n<r;)e(t[n])&&(o[o.length]=t[n]),n+=1;return o}(e,t);var n}))),ae=v((function(e,t){return ie((n=e,function(){return!n.apply(this,arguments)}),t);var n}));function ce(e,t){var n=function(n){var r=t.concat([e]);return function(e,t,n){var r,o;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(r=1/t;n<e.length;){if(0===(o=e[n])&&1/o===r)return n;n+=1}return-1}if(t!=t){for(;n<e.length;){if("number"==typeof(o=e[n])&&o!=o)return n;n+=1}return-1}return e.indexOf(t,n);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,n);case"object":if(null===t)return e.indexOf(t,n)}for(;n<e.length;){if(ee(e[n],t))return n;n+=1}return-1}(r,n,0)>=0?"<Circular>":ce(n,r)},r=function(e,t){return j((function(t){return te(t)+": "+n(e[t])}),t.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+j(n,e).join(", ")+"))";case"[object Array]":return"["+j(n,e).concat(r(e,ae((function(e){return/^\d+$/.test(e)}),W(e)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof e?"new Boolean("+n(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?n(NaN):te(re(e)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof e?"new Number("+n(e.valueOf())+")":1/e==-1/0?"-0":e.toString(10);case"[object String]":return"object"==typeof e?"new String("+n(e.valueOf())+")":te(e);case"[object Undefined]":return"undefined";default:if("function"==typeof e.toString){var o=e.toString();if("[object Object]"!==o)return o}return"{"+r(e,W(e)).join(", ")+"}"}}const se=b((function(e){return ce(e,[])})),ue=v((function(e,t){return D(e+1,(function(){var n=arguments[e];if(null!=n&&X(n[t]))return n[t].apply(n,Array.prototype.slice.call(arguments,0,e));throw new TypeError(se(n)+' does not have a method named "'+t+'"')}))}))(1,"join"),fe=v((function(e,t){if(m(e)){if(m(t))return e.concat(t);throw new TypeError(se(t)+" is not an array")}if(S(e)){if(S(t))return e+t;throw new TypeError(se(t)+" is not a string")}if(null!=e&&X(e["fantasy-land/concat"]))return e["fantasy-land/concat"](t);if(null!=e&&X(e.concat))return e.concat(t);throw new TypeError(se(e)+' does not have a method named "concat" or "fantasy-land/concat"')}));var le=o(7459);function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){he(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?me(e):t}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(c,e);var n,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Oe(o);if(i){var n=Oe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ve(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={aspects:e.aspects||{},ready:!1,initial:!1},t.setAspects=t.setAspects.bind(me(t)),t.getAspect=t.getAspect.bind(me(t)),t.updateAspects=t.updateAspects.bind(me(t)),t.matchAspects=t.matchAspects.bind(me(t)),t}return n=c,(r=[{key:"updateAspects",value:function(e){var t=this;return this.setAspects(e).then((function(){return t.props.updateAspects(t.props.identity,e)}))}},{key:"setAspects",value:function(e){var t=this;return new Promise((function(n){t.setState({aspects:ye(ye({},t.state.aspects),e)},n)}))}},{key:"getAspect",value:function(e){return this.state.aspects[e]}},{key:"matchAspects",value:function(e){var t=this;return W(this.state.aspects).filter((function(t){return e.test(t)})).map((function(e){return[e,t.state.aspects[e]]}))}},{key:"componentDidMount",value:function(){var e=this;this.props.connect(this.props.identity,this.setAspects,this.getAspect,this.matchAspects),this.state.initial||this.updateAspects(this.state.aspects).then((function(){return e.setState({ready:!0,initial:!0})}))}},{key:"componentWillUnmount",value:function(){this.props.disconnect(this.props.identity)}},{key:"render",value:function(){var e=this.props,n=e.component,r=e.component_name,o=e.package_name,i=this.state,a=i.aspects;return i.ready?t().cloneElement(n,ye(ye({},a),{},{updateAspects:this.updateAspects,identity:this.props.identity,class_name:ue(" ",fe(["".concat(o.replace("_","-").toLowerCase(),"-").concat((0,le.camelToSpinal)(r))],a.class_name?a.class_name.split(" "):[]))})):null}}])&&be(n.prototype,r),c}(t().Component);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){Ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pe(e){return"Object"===g(e)&&e.hasOwnProperty("package")&&e.hasOwnProperty("aspects")&&e.hasOwnProperty("name")&&e.hasOwnProperty("identity")}function ke(e,t,n,r,o){var i={};return Object.entries(e).forEach((function(e){var a,c,s=(c=2,function(e){if(Array.isArray(e))return e}(a=e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(a,c)||function(e,t){if(e){if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(e,t):void 0}}(a,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=s[0],f=s[1];if("Array"===g(f))i[u]=f.map((function(e){if(!Pe(e))return"Object"===g(e)?ke(e,t,n,r,o):e;var i=ke(e.aspects,t,n,r,o);return i.key||(i.key=e.identity),xe(e.name,e.package,e.identity,i,t,n,r,o)}));else if(Pe(f)){var l=ke(f.aspects,t,n,r,o);i[u]=xe(f.name,f.package,f.identity,l,t,n,r,o)}else"Object"===g(f)&&(i[u]=ke(f,t,n,r,o))})),Se(Se({},e),i)}function xe(e,n,r,o,i,a,c,s){var u=window[n];if(!u)throw new Error("Invalid package name: ".concat(n));var f=u[e];if(!f)throw new Error("Invalid component name: ".concat(n,".").concat(e));var l=t().createElement(f,o),p=function(s){var u=s.children;return t().createElement(we,{identity:r,updateAspects:i,component:l,connect:a,package_name:n,component_name:e,aspects:Se({children:u},o),disconnect:c,key:"wrapper-".concat(r)})};return f.isContext?(s(p),null):p({})}function Re(e){return t().isValidElement(e)?{identity:e.props.identity,aspects:$(Re,G(["identity","updateAspects","_name","_package","aspects","key"],e.props.aspects)),name:e.props.component_name,package:e.props.package_name}:"Array"===g(e)?e.map(Re):"Object"===g(e)?$(Re,e):e}function Te(e){return new Promise((function(t,n){var r,o=e.url,i=e.kind,a=e.meta;if("js"===i)r=le.loadScript;else{if("css"!==i)return"map"===i?t():n({error:"Invalid requirement kind: ".concat(i)});r=le.loadCss}return r(o,a).then(t).catch(n)}))}function Ce(e){return function t(n){for(var r,o,i,a=[],c=0,s=n.length;c<s;){if(A(n[c]))for(i=0,o=(r=e?t(n[c]):n[c]).length;i<o;)a[a.length]=r[i],i+=1;else a[a.length]=n[c];c+=1}return a}}we.propTypes={identity:c().string.isRequired,updateAspects:c().func.isRequired,component:c().node.isRequired,connect:c().func.isRequired,component_name:c().string.isRequired,package_name:c().string.isRequired,disconnect:c().func.isRequired};const _e=b(Ce(!0)),qe=v((function(e,t){var n={};for(var r in t)e(t[r],r,t)&&(n[r]=t[r]);return n})),Ue=v((function e(t,n){var r,o,i,a=n instanceof Array?[]:{};for(o in n)i=typeof(r=t[o]),a[o]="function"===i?r(n[o]):r&&"object"===i?e(r,n[o]):n[o];return a}));function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e,t){return!t||"object"!==Ie(t)&&"function"!=typeof t?Je(e):t}function Je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var We=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(c,e);var n,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=He(o);if(i){var n=He(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Fe(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={layout:!1,ready:!1,page:null,bindings:{},packages:[],requirements:[],reloading:!1,needRefresh:!1},t.pageApi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=e+arguments[0],n=arguments[1]||{};return n.headers=u({},n.headers),new Promise((function(e){y(t,n).then(e)}))}}(window.location.href),t.boundComponents={},t.ws=null,t.updateAspects=t.updateAspects.bind(Je(t)),t.connect=t.connect.bind(Je(t)),t.disconnect=t.disconnect.bind(Je(t)),t.onMessage=t.onMessage.bind(Je(t)),t}return n=c,(r=[{key:"updateAspects",value:function(e,t){var n=this;return new Promise((function(r){var o=W(t),i=o.map((function(r){return Me(Me({},n.state.bindings["".concat(r,"@").concat(e)]),{},{value:t[r]})})).filter((function(e){return e.trigger}));if(n.state.rebindings.forEach((function(n){n.trigger.identity.test(e)&&(i=fe(i,o.filter((function(e){return n.trigger.aspect.test(e)})).map((function(r){return Me(Me({},n),{},{value:t[r],trigger:Me(Me({},n.trigger),{},{identity:e,aspect:r})})})))).push()})),!i)return r(0);i.forEach((function(e){return n.sendBinding(e,e.value)})),r(i.length)}))}},{key:"connect",value:function(e,t,n,r){this.boundComponents[e]={setAspects:t,getAspect:n,matchAspects:r}}},{key:"disconnect",value:function(e){delete this.boundComponents[e]}},{key:"onMessage",value:function(e){var t,n=this,r=JSON.parse(e.data),o=r.identity,i=r.kind,a=r.payload,c=r.storage,s=r.request_id;switch(t="session"===c?window.sessionStorage:window.localStorage,i){case"set-aspect":var u=function(e){return e.setAspects(ke(a,n.updateAspects,n.connect,n.disconnect)).then((function(){return n.updateAspects(o,a)}))};if(r.regex){var f=new RegExp(r.identity);W(this.boundComponents).filter((function(e){return f.test(e)})).map((function(e){return n.boundComponents[e]})).forEach(u)}else u(this.boundComponents[o]);break;case"get-aspect":var l=r.aspect,p=this.boundComponents[o];if(!p)return void this.ws.send(JSON.stringify({kind:i,identity:o,aspect:l,request_id:s,error:"Aspect not found ".concat(o,".").concat(l)}));var d=p.getAspect(l);this.ws.send(JSON.stringify({kind:i,identity:o,aspect:l,value:Re(d),request_id:s}));break;case"set-storage":t.setItem(o,JSON.stringify(a));break;case"get-storage":this.ws.send(JSON.stringify({kind:i,identity:o,request_id:s,value:JSON.parse(t.getItem(o))}));break;case"reload":var y=r.filenames,h=r.hot,b=r.refresh,g=r.deleted;if(b)return this.ws.close(),this.setState({reloading:!0,needRefresh:!0});if(h)return this.setState({reloading:!0});y.forEach(Te),g.forEach((function(e){return(0,le.disableCss)(e.url)}))}}},{key:"sendBinding",value:function(e,t){var n=this,r={trigger:Me(Me({},e.trigger),{},{value:Re(t)}),states:e.states.reduce((function(e,t){if(t.regex){var r=new RegExp(t.identity),o=new RegExp(t.aspect);return fe(e,_e(W(n.boundComponents).map((function(e){var i=[];return r.test(e)&&(i=n.boundComponents[e].matchAspects(o).map((function(n){var r,o,i=(o=2,function(e){if(Array.isArray(e))return e}(r=n)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(r,o)||function(e,t){if(e){if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ne(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1];return Me(Me({},t),{},{identity:e,aspect:a,value:Re(c)})}))),i}))))}return e.push(Me(Me({},t),{},{value:n.boundComponents[t.identity]&&Re(n.boundComponents[t.identity].getAspect(t.aspect))})),e}),[]),kind:"binding",page:this.state.page,key:e.key};this.ws.send(JSON.stringify(r))}},{key:"_connectWS",value:function(){var e=this,t=0,n=!1;!function r(){var o="ws".concat(window.location.href.startsWith("https")?"s":"","://").concat(e.props.baseUrl&&e.props.baseUrl||window.location.host,"/").concat(e.state.page,"/ws");e.ws=new WebSocket(o),e.ws.addEventListener("message",e.onMessage),e.ws.onopen=function(){e.state.reloading?(n=!0,e.ws.close(),e.state.needRefresh?window.location.reload():e.props.hotReload()):(e.setState({ready:!0}),t=0)},e.ws.onclose=function(){!n&&t<e.props.retries&&setTimeout((function(){t++,r()}),1e3)}}()}},{key:"componentDidMount",value:function(){var e=this;this.pageApi("",{method:"POST"}).then((function(t){var n=function(e){return new RegExp(e)};e.setState({page:t.page,layout:t.layout,bindings:qe((function(e){return!e.regex}),t.bindings),rebindings:$((function(e){var r=t.bindings[e];return r.trigger=Ue({identity:n,aspect:n},r.trigger),r}),W(qe((function(e){return e.regex}),t.bindings))),packages:t.packages,requirements:t.requirements},(function(){return(n=t.requirements,r=t.packages,new Promise((function(e,t){var o=[];Object.keys(r).forEach((function(e){var t=r[e];o=o.concat(t.requirements.map(Te))})),Promise.all(o).then((function(){var t=0;!function r(){t<n.length?Te(n[t]).then((function(){t++,r()})):e()}()})).catch(t)}))).then((function(){W(t.bindings).length||t.reload?e._connectWS():e.setState({ready:!0})}));var n,r}))}))}},{key:"render",value:function(){var e=this.state,n=e.layout,r=e.ready,o=e.reloading;if(!r)return t().createElement("div",{className:"dazzler-loading-container"},t().createElement("div",{className:"dazzler-spin"}),t().createElement("div",{className:"dazzler-loading"},"Loading..."));if(o)return t().createElement("div",{className:"dazzler-loading-container"},t().createElement("div",{className:"dazzler-spin reload"}),t().createElement("div",{className:"dazzler-loading"},"Reloading..."));if(!Pe(n))throw new Error("Layout is not a component: ".concat(n));var i=[],a=function(e){i.push(e)},c=xe(n.name,n.package,n.identity,ke(n.aspects,this.updateAspects,this.connect,this.disconnect,a),this.updateAspects,this.connect,this.disconnect,a);return t().createElement("div",{className:"dazzler-rendered"},i.length?i.reduce((function(e,n,r){return e?t().createElement(n,null,e):t().createElement(n,null,c)}),null):c)}}])&&ze(n.prototype,r),c}(t().Component);function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}We.defaultProps={},We.propTypes={baseUrl:c().string.isRequired,ping:c().bool,ping_interval:c().number,retries:c().number,hotReload:c().func};var Xe=function(n){var r,o,i=(r=(0,e.useState)(1),o=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(r,o)||function(e,t){if(e){if("string"==typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ge(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1];return window.dazzler_base_url=n.baseUrl,t().createElement("div",{className:"dazzler-renderer"},t().createElement(We,$e({},n,{key:"upd-".concat(a),hotReload:function(){return c(a+1)}})))};Xe.propTypes={baseUrl:c().string.isRequired,ping:c().bool,ping_interval:c().number,retries:c().number};const Ye=Xe;function Ve(e,n){var o=e.baseUrl,i=e.ping,a=e.ping_interval,c=e.retries;r().render(t().createElement(Ye,{baseUrl:o,ping:i,ping_interval:a,retries:c}),n)}})(),i})()}));
//# sourceMappingURL=dazzler_renderer_92db18baca3bef1de6f429b75b113d82..js.map