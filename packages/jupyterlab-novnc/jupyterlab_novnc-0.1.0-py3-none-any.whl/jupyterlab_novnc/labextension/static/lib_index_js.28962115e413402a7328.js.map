{"version":3,"sources":["webpack://jupyterlab-novnc/./lib/handler.js","webpack://jupyterlab-novnc/./lib/index.js","webpack://jupyterlab-novnc/./style/icon.svg"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAA+C;AACS;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACO,kDAAkD;AACzD;AACA,qBAAqB,+EAA6B;AAClD,uBAAuB,8DAAW;AAClC;AACA;AACA;AACA,yBAAyB,8EAA4B;AACrD;AACA;AACA,kBAAkB,+EAA6B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,gFAA8B;AAChD;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClCuD;AACH;AACW;AACd;AACjD;AACuC;AACO;AACK;AACT;AACnC,oBAAoB,8DAAO;AAClC;AACA,YAAY,oDAAS;AACrB,CAAC;AACD,0BAA0B,wDAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,wEAAqB;AAC7C,mDAAmD,WAAW;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iEAAe,EAAE,yEAAgB;AAChD,eAAe,2DAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,EAAE;AACpD,+CAA+C,EAAE;AACjD;AACA;AACA,6CAA6C,EAAE,IAAI,mDAAmD;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,8CAA8C,uCAAuC;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,QAAQ,oDAAU;AAClB;AACA;AACA,SAAS;AACT;AACA,2FAA2F,OAAO;AAClG,SAAS;AACT;AACA;AACA,iEAAe,SAAS,EAAC;;;;;;;;;;;;;;;;ACrHzB,iEAAe,uWAAuW,ukIAAukI,E","file":"lib_index_js.28962115e413402a7328.js","sourcesContent":["import { URLExt } from '@jupyterlab/coreutils';\nimport { ServerConnection } from '@jupyterlab/services';\n/**\n * Call the API extension\n *\n * @param endPoint API REST end point for the extension\n * @param init Initial values for the request\n * @returns The response body interpreted as JSON\n */\nexport async function requestAPI(endPoint = '', init = {}) {\n    // Make request to Jupyter API\n    const settings = ServerConnection.makeSettings();\n    const requestUrl = URLExt.join(settings.baseUrl, 'novnc', // API Namespace\n    endPoint);\n    let response;\n    try {\n        response = await ServerConnection.makeRequest(requestUrl, init, settings);\n    }\n    catch (error) {\n        throw new ServerConnection.NetworkError(error);\n    }\n    let data = await response.text();\n    if (data.length > 0) {\n        try {\n            data = JSON.parse(data);\n        }\n        catch (error) {\n            console.log('Not a JSON response body.', response);\n        }\n    }\n    if (!response.ok) {\n        throw new ServerConnection.ResponseError(response, data.message || data);\n    }\n    return data;\n}\n","import { ICommandPalette } from '@jupyterlab/apputils';\nimport { LabIcon } from '@jupyterlab/ui-components';\nimport { ISettingRegistry } from '@jupyterlab/settingregistry';\nimport { ILauncher } from '@jupyterlab/launcher';\nconst SETTINGS_ID = 'jupyterlab-novnc:jupyterlab-novnc-settings';\nimport { requestAPI } from './handler';\nimport { IFrame } from '@jupyterlab/apputils';\nimport { PageConfig } from '@jupyterlab/coreutils';\nimport fooSvgstr from '../style/icon.svg';\nexport const fooIcon = new LabIcon({\n    name: 'jupyterlab-novnc:icon',\n    svgstr: fooSvgstr\n});\nclass noVNCWidget extends IFrame {\n    constructor(options) {\n        super();\n        const queryElems = [];\n        for (const k in options) {\n            queryElems.push(encodeURIComponent(k) + '=' + encodeURIComponent(options[k]));\n        }\n        this.query = queryElems.join('&');\n        const baseUrl = PageConfig.getBaseUrl();\n        this.url = baseUrl + `novnc/app/vnc.html?${this.query}`;\n        console.log('Full URL: ', this.url);\n        this.id = 'noVNC';\n        this.title.label = 'noVNC';\n        this.title.closable = true;\n        this.node.style.overflowY = 'auto';\n        this.node.style.background = '#FFF';\n        this.sandbox = [\n            'allow-forms',\n            'allow-modals',\n            'allow-orientation-lock',\n            'allow-pointer-lock',\n            'allow-popups',\n            'allow-presentation',\n            'allow-same-origin',\n            'allow-scripts',\n            'allow-top-navigation',\n            'allow-top-navigation-by-user-activation'\n        ];\n    }\n    dispose() {\n        super.dispose();\n    }\n    onCloseRequest() {\n        this.dispose();\n    }\n}\n/**\n * Initialization data for the jupyterlab-novnc extension.\n */\nconst extension = {\n    id: 'jupyterlab-novnc:plugin',\n    autoStart: true,\n    requires: [ICommandPalette, ISettingRegistry],\n    optional: [ILauncher],\n    activate: (app, palette, settings, launcher) => {\n        let _settings;\n        const command = 'novnc:open';\n        let registeredCommands = [];\n        const _loadSettings = () => {\n            const enpoints = _settings.get('configured_endpoints').composite;\n            let i = 0;\n            for (const c of registeredCommands) {\n                c.dispose();\n            }\n            registeredCommands = [];\n            for (const epconf of enpoints) {\n                console.log('Adding comand .. ');\n                // const full_cmd = command + `:${i}`\n                const full_cmd = command + `:${i}`;\n                const widget = new noVNCWidget(epconf);\n                const rcmd = app.commands.addCommand(full_cmd, {\n                    label: `Connect to VNC ${i}: ${'name' in epconf ? epconf['name'] : epconf['host']}`,\n                    execute: () => {\n                        if (!widget.isAttached) {\n                            // Attach the widget to the main work area if it's not there\n                            app.shell.add(widget, 'main');\n                        }\n                        // Activate the widget\n                        app.shell.activateById(widget.id);\n                    },\n                    icon: fooIcon\n                });\n                registeredCommands.push(rcmd);\n                // Add a launcher item if the launcher is available.\n                if (launcher) {\n                    const lcmd = launcher.add({\n                        command: full_cmd,\n                        rank: 1,\n                        category: 'VNC'\n                    });\n                    registeredCommands.push(lcmd);\n                }\n                const pcmd = palette.addItem({ command: full_cmd, category: 'NoVNC' });\n                registeredCommands.push(pcmd);\n                i += 1;\n            }\n        };\n        settings.load(SETTINGS_ID).then(setting => {\n            console.log(setting);\n            _settings = setting;\n            const extensions = setting.get('configured_endpoints').composite;\n            console.log(extensions);\n            _loadSettings();\n            setting.changed.connect(_loadSettings);\n        });\n        requestAPI('get_example')\n            .then(data => {\n            console.log(data);\n        })\n            .catch(reason => {\n            console.error(`The jupyterlab-novnc server extension appears to be missing.\\n${reason}`);\n        });\n    }\n};\nexport default extension;\n","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"iso-8859-1\\\"?>\\r\\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\r\\n<svg version=\\\"1.1\\\" id=\\\"Capa_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\r\\n\\t viewBox=\\\"0 0 512 512\\\" style=\\\"enable-background:new 0 0 512 512;\\\" xml:space=\\\"preserve\\\">\\r\\n<g>\\r\\n\\t<g>\\r\\n\\t\\t<path d=\\\"M394.668,0H32.001c-17.673,0-32,14.327-32,32v256c0,17.673,14.327,32,32,32h138.667v-21.333H32.001\\r\\n\\t\\t\\tc-5.891,0-10.667-4.776-10.667-10.667V32c0-5.891,4.776-10.667,10.667-10.667h362.667c5.891,0,10.667,4.776,10.667,10.667v192\\r\\n\\t\\t\\th21.333V32C426.668,14.327,412.341,0,394.668,0z\\\"/>\\r\\n\\t</g>\\r\\n</g>\\r\\n<g>\\r\\n\\t<g>\\r\\n\\t\\t<rect x=\\\"128.001\\\" y=\\\"309.333\\\" width=\\\"21.333\\\" height=\\\"64\\\"/>\\r\\n\\t</g>\\r\\n</g>\\r\\n<g>\\r\\n\\t<g>\\r\\n\\t\\t<path d=\\\"M74.668,256c-5.891,0-10.667-4.776-10.667-10.667V224H42.668v21.333c0,17.673,14.327,32,32,32h21.333V256H74.668z\\\"/>\\r\\n\\t</g>\\r\\n</g>\\r\\n<g>\\r\\n\\t<g>\\r\\n\\t\\t<rect x=\\\"42.668\\\" y=\\\"181.333\\\" width=\\\"21.333\\\" height=\\\"21.333\\\"/>\\r\\n\\t</g>\\r\\n</g>\\r\\n<g>\\r\\n\\t<g>\\r\\n\\t\\t<path d=\\\"M389.836,225.941c-21.736-21.74-51.219-33.953-81.961-33.952c-64.006,0.003-115.891,51.892-115.889,115.898\\r\\n\\t\\t\\tc0.003,64.006,51.892,115.891,115.898,115.889c30.732-0.001,60.204-12.208,81.937-33.937\\r\\n\\t\\t\\tC435.084,344.584,435.091,271.205,389.836,225.941z M307.82,402.453c-52.224-0.018-94.546-42.368-94.528-94.592\\r\\n\\t\\t\\tc0.018-52.224,42.368-94.546,94.592-94.528c25.101-0.068,49.184,9.92,66.869,27.733c17.718,17.738,27.667,41.787,27.659,66.859\\r\\n\\t\\t\\tC402.394,360.149,360.044,402.471,307.82,402.453z\\\"/>\\r\\n\\t</g>\\r\\n</g>\\r\\n<g>\\r\\n\\t<g>\\r\\n\\t\\t<path d=\\\"M508.876,464l-66.955-66.933c-2-2-4.713-3.125-7.541-3.125c-2.829,0.001-5.541,1.125-7.541,3.125l-29.76,29.76\\r\\n\\t\\t\\tc-4.164,4.165-4.164,10.917,0,15.083l66.955,66.965c2,2.001,4.713,3.125,7.541,3.125v0c2.833-0.009,5.547-1.145,7.541-3.157\\r\\n\\t\\t\\tl29.76-29.76C513.04,474.917,513.04,468.165,508.876,464z M471.574,486.251l-51.872-51.883l14.677-14.677l51.872,51.883\\r\\n\\t\\t\\tL471.574,486.251z\\\"/>\\r\\n\\t</g>\\r\\n</g>\\r\\n<g>\\r\\n\\t<g>\\r\\n\\t\\t\\r\\n\\t\\t\\t<rect x=\\\"390.231\\\" y=\\\"374.581\\\" transform=\\\"matrix(0.7071 -0.7071 0.7071 0.7071 -166.0486 400.894)\\\" width=\\\"21.333\\\" height=\\\"52.608\\\"/>\\r\\n\\t</g>\\r\\n</g>\\r\\n<g>\\r\\n\\t<g>\\r\\n\\t\\t<path d=\\\"M309.334,234.667V256c29.441,0.035,53.298,23.893,53.333,53.333h21.333C383.954,268.116,350.552,234.714,309.334,234.667z\\r\\n\\t\\t\\t\\\"/>\\r\\n\\t</g>\\r\\n</g>\\r\\n<g>\\r\\n\\t<g>\\r\\n\\t\\t<rect x=\\\"106.668\\\" y=\\\"362.667\\\" width=\\\"85.333\\\" height=\\\"21.333\\\"/>\\r\\n\\t</g>\\r\\n</g>\\r\\n<g>\\r\\n\\t<g>\\r\\n\\t\\t<path d=\\\"M160.001,42.667c-17.673,0-32,14.327-32,32c0,17.673,14.327,32,32,32s32-14.327,32-32\\r\\n\\t\\t\\tC192.001,56.994,177.674,42.667,160.001,42.667z M160.001,85.333c-5.891,0-10.667-4.776-10.667-10.667\\r\\n\\t\\t\\tc0-5.891,4.776-10.667,10.667-10.667s10.667,4.776,10.667,10.667C170.668,80.558,165.892,85.333,160.001,85.333z\\\"/>\\r\\n\\t</g>\\r\\n</g>\\r\\n<g>\\r\\n\\t<g>\\r\\n\\t\\t<path d=\\\"M234.668,117.333c-17.673,0-32,14.327-32,32c0,17.673,14.327,32,32,32c17.673,0,32-14.327,32-32\\r\\n\\t\\t\\tC266.668,131.66,252.341,117.333,234.668,117.333z M234.668,160c-5.891,0-10.667-4.776-10.667-10.667\\r\\n\\t\\t\\tc0-5.891,4.776-10.667,10.667-10.667c5.891,0,10.667,4.776,10.667,10.667C245.334,155.224,240.559,160,234.668,160z\\\"/>\\r\\n\\t</g>\\r\\n</g>\\r\\n<g>\\r\\n\\t<g>\\r\\n\\t\\t\\r\\n\\t\\t\\t<rect x=\\\"84.956\\\" y=\\\"101.336\\\" transform=\\\"matrix(0.7071 -0.7071 0.7071 0.7071 -43.269 119.5445)\\\" width=\\\"75.424\\\" height=\\\"21.333\\\"/>\\r\\n\\t</g>\\r\\n</g>\\r\\n<g>\\r\\n\\t<g>\\r\\n\\t\\t\\r\\n\\t\\t\\t<rect x=\\\"186.623\\\" y=\\\"74.317\\\" transform=\\\"matrix(0.7071 -0.7071 0.7071 0.7071 -21.4319 172.3178)\\\" width=\\\"21.333\\\" height=\\\"75.424\\\"/>\\r\\n\\t</g>\\r\\n</g>\\r\\n<g>\\r\\n\\t<g>\\r\\n\\t\\t<path d=\\\"M309.334,42.667c-17.673,0-32,14.327-32,32c0,17.673,14.327,32,32,32c17.673,0,32-14.327,32-32\\r\\n\\t\\t\\tC341.335,56.994,327.008,42.667,309.334,42.667z M309.334,85.333c-5.891,0-10.667-4.776-10.667-10.667\\r\\n\\t\\t\\tc0-5.891,4.776-10.667,10.667-10.667c5.891,0,10.667,4.776,10.667,10.667C320.001,80.558,315.225,85.333,309.334,85.333z\\\"/>\\r\\n\\t</g>\\r\\n</g>\\r\\n<g>\\r\\n\\t<g>\\r\\n\\t\\t\\r\\n\\t\\t\\t<rect x=\\\"234.285\\\" y=\\\"101.373\\\" transform=\\\"matrix(0.7071 -0.7071 0.7071 0.7071 0.4421 225.1463)\\\" width=\\\"75.424\\\" height=\\\"21.333\\\"/>\\r\\n\\t</g>\\r\\n</g>\\r\\n<g>\\r\\n</g>\\r\\n<g>\\r\\n</g>\\r\\n<g>\\r\\n</g>\\r\\n<g>\\r\\n</g>\\r\\n<g>\\r\\n</g>\\r\\n<g>\\r\\n</g>\\r\\n<g>\\r\\n</g>\\r\\n<g>\\r\\n</g>\\r\\n<g>\\r\\n</g>\\r\\n<g>\\r\\n</g>\\r\\n<g>\\r\\n</g>\\r\\n<g>\\r\\n</g>\\r\\n<g>\\r\\n</g>\\r\\n<g>\\r\\n</g>\\r\\n<g>\\r\\n</g>\\r\\n</svg>\\r\\n\";"],"sourceRoot":""}