(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1015:function(e,t,a){"use strict";a.r(t);var n=a(88),r=a(100),c=a(143),i=a(144),l=a(104),o=a(3),s=a.n(o),u=a(645),m=a(434),d=a(187),p=a(1018),f=a(75),v=a(389),E=a(720),h=a(696),b=a(233),g=a(1002),y=a(944),x=a(982),N=a(1024),C=a(790),k=a(1012),O=a(50);function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var D=function(e){Object(c.a)(a,e);var t=j(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(r.a)(a,[{key:"render",value:function(){var e=f.b.getTrial(this.props.trialId).accuracy;return o.createElement("div",{className:"succeed-padding"},void 0!==e?Object(O.j)(e):"--")}}]),a}(o.Component),R=a(758),S=a(681),T=a(319);a(943),a(682),a(680);function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var I=function(e){Object(c.a)(a,e);var t=w(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).onColumnClick=function(e,t){var a=r.state,n=a.columns,c=a.source,i=n.slice(),l=i.filter(function(e){return t.key===e.key})[0];i.forEach(function(e){e===l?(l.isSortedDescending=!l.isSortedDescending,l.isSorted=!0):(e.isSorted=!1,e.isSortedDescending=!0)});var o=Object(O.d)(c,l.fieldName,l.isSortedDescending);r.setState({columns:i,source:o,sortInfo:{field:l.fieldName,isDescend:l.isSortedDescending}})},r.tooltipStr=o.createElement(o.Fragment,null,"The experiment is running, please wait for the final metric patiently. You could also find status of trial job with ",o.createElement("span",null,T.a)," button."),r.columns=[{key:"_expand",name:"",onRender:function(e){return o.createElement(d.a,{"aria-hidden":!0,iconName:"ChevronRight",styles:{root:{transition:"all 0.2s",transform:"rotate(".concat(r.props.expandRowIDs.has(e.id)?90:0,"deg)")}},className:"cursor",onClick:r.expandTrialId.bind(Object(b.a)(r),Event,e.id)})},fieldName:"expand",isResizable:!1,minWidth:20,maxWidth:20},{name:"Trial No.",key:"sequenceId",fieldName:"sequenceId",minWidth:60,maxWidth:80,isResizable:!0,data:"number",onColumnClick:r.onColumnClick,onRender:function(e){return o.createElement("div",{className:"succeed-padding"},e.sequenceId)}},{name:"ID",key:"id",fieldName:"id",minWidth:90,maxWidth:100,isResizable:!0,className:"tableHead leftTitle",data:"string",onColumnClick:r.onColumnClick,onRender:function(e){return o.createElement(u.a,{horizontal:!0,className:"idCopy"},o.createElement("div",{className:"succeed-padding"},e.id),o.createElement(S.a,{value:e.id}))}},{name:"Duration",key:"duration",minWidth:70,maxWidth:120,isResizable:!0,fieldName:"duration",data:"number",onColumnClick:r.onColumnClick,onRender:function(e){return o.createElement("div",{className:"durationsty succeed-padding"},o.createElement("div",null,Object(O.b)(e.duration)))}},{name:"Status",key:"status",minWidth:88,maxWidth:120,isResizable:!0,fieldName:"status",onRender:function(e){return o.createElement("div",{className:"".concat(e.status," commonStyle succeed-padding")},e.status)}},{name:"Default metric",key:"accuracy",fieldName:"accuracy",minWidth:100,maxWidth:166,isResizable:!0,data:"number",onColumnClick:r.onColumnClick,onRender:function(e){return o.createElement(D,{trialId:e.id})}}],r.onRenderDetailsHeader=function(e,t){return e?o.createElement(g.a,{stickyPosition:y.a.Header,isScrollSynced:!0},t(Object(h.a)({},e))):null},r.onRenderRow=function(e){var t=r.props.expandRowIDs;return e?o.createElement("div",null,o.createElement("div",null,o.createElement(x.a,e)),Array.from(t).map(function(t){return t===e.item.id&&o.createElement(R.a,{key:t,trialId:t})})):null},r.expandTrialId=function(e,t){var a=r.props,n=a.updateOverviewPage;(0,a.changeExpandRowIDs)(t),n()},r.state={columns:r.columns,source:f.b.table(r.props.trialIds),sortInfo:{field:"",isDescend:!1}},r}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e){if(this.props.trialIds!==e.trialIds){var t=this.props.trialIds;this.setState(function(){return{source:f.b.table(t)}})}}},{key:"render",value:function(){var e=this.state,t=e.columns,a=e.source,n=e.sortInfo,r=Object(O.d)(a,n.field,n.isDescend),c=0===a.length;return o.createElement("div",{id:"succTable"},o.createElement(N.a,{className:"scrollPanel",scrollbarVisibility:C.b.auto},o.createElement(k.a,{columns:t,items:r,setKey:"set",compact:!0,onRenderRow:this.onRenderRow,onRenderDetailsHeader:this.onRenderDetailsHeader,selectionMode:0,className:"succTable"})),c&&o.createElement("div",{className:"succTable-tooltip"},this.tooltipStr))}}]),a}(o.Component),P=a(745),M=a(115),A=a(646),L=a(610),z=a(1022),U=a(419),W=a(1005),H=a(29),F=Object(H.C)(),B=Object(H.F)({buttonArea:{verticalAlign:"top",display:"inline-block",textAlign:"center",minWidth:30,height:30},callout:{maxWidth:300},header:{padding:"18px 24px 12px"},title:[F.fonts.xLarge,{margin:0,color:F.palette.neutralPrimary,fontWeight:H.e.semilight}],inner:{height:"100%",padding:"0 24px 20px"},actions:{position:"relative",marginTop:20,width:"100%",whiteSpace:"nowrap"},subtext:[F.fonts.small,{margin:0,color:F.palette.neutralPrimary,fontWeight:H.e.semilight}],link:[F.fonts.medium,{color:F.palette.neutralPrimary}]}),_=(a(749),a(953),function(){var e=Object(W.a)("callout-label"),t=Object(W.a)("callout-description"),a=s.a.createRef(),n=Object(o.useState)(!1),r=Object(M.a)(n,2),c=r[0],i=r[1],l=Object(o.useState)(!1),m=Object(M.a)(l,2),d=m[0],p=m[1],v=Object(o.useCallback)(function(){return i(!1)},[]),E=Object(o.useCallback)(function(){return i(!0)},[]),h=Object(o.useCallback)(function(){return p(!1)},[]),b=Object(o.useCallback)(function(){return p(!0)},[]);return s.a.createElement("div",null,s.a.createElement(u.a,{horizontal:!0,horizontalAlign:"space-between",className:"marginTop"},s.a.createElement("div",{className:"basic"},s.a.createElement("p",null,"Name"),s.a.createElement("div",{className:"ellipsis"},f.a.profile.params.experimentName),s.a.createElement("p",{className:"marginTop"},"ID"),s.a.createElement("div",{className:"ellipsis"},f.a.profile.id)),s.a.createElement("div",{className:"basic"},s.a.createElement("p",null,"Status"),s.a.createElement(u.a,{horizontal:!0,className:"status"},s.a.createElement("span",{className:"".concat(f.a.status," status-text")},f.a.status),"ERROR"===f.a.status?s.a.createElement("div",null,s.a.createElement("div",{className:"".concat(B.buttonArea," error-info-icon"),ref:a},s.a.createElement(A.a,{iconProps:{iconName:"info"},onClick:c?v:E})),c&&s.a.createElement(L.a,{className:B.callout,ariaLabelledBy:e,ariaDescribedBy:t,role:"alertdialog",gapSpace:0,target:a,onDismiss:v,setInitialFocus:!0},s.a.createElement("div",{className:B.header},s.a.createElement("p",{className:"".concat(B.title," color"),id:e},"Error")),s.a.createElement("div",{className:B.inner},s.a.createElement("p",{className:"".concat(B.subtext," color"),id:t},f.a.error),s.a.createElement("div",{className:B.actions},s.a.createElement(z.a,{className:B.link,onClick:b},"Learn about"))))):null),s.a.createElement(be.Consumer,null,function(e){return s.a.createElement(u.a,{className:"bestMetric"},s.a.createElement("p",{className:"marginTop"},"Best metric"),s.a.createElement("div",{className:f.a.status},isNaN(e.bestAccuracy)?"N/A":e.bestAccuracy.toFixed(6)))})),s.a.createElement("div",{className:"basic"},s.a.createElement("p",null,"Start time"),s.a.createElement("div",{className:"ellipsis"},Object(O.l)(f.a.profile.startTime)),s.a.createElement("p",{className:"marginTop"},"End time"),s.a.createElement("div",{className:"ellipsis"},Object(O.l)(f.a.profile.endTime)))),d?s.a.createElement(U.a,{closeDrawer:h,activeTab:"dispatcher"}):null)}),G=a(1016),Y=a(97),J=a(1025),q=a(84),Z=a(71),V=a.n(Z),K=a(116),$=a(223),Q=a.n($),X=s.a.createContext({editType:"",field:"",title:"",maxExecDuration:"",maxTrialNum:0,trialConcurrency:0,updateOverviewPage:function(){}}),ee={width:"28%"},te=[{key:"10",text:"10"},{key:"20",text:"20"},{key:"30",text:"30"},{key:"50",text:"40"},{key:"100",text:"100"}],ae=[{key:"m",text:"min"},{key:"h",text:"hour"},{key:"d",text:"day"}],ne=a(166),re=a(350),ce=(a(805),s.a.createRef()),ie=function(){var e=Object(o.useState)(!0),t=Object(M.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)(!1),c=Object(M.a)(r,2),i=c[0],l=c[1],u=Object(o.useState)(""),m=Object(M.a)(u,2),d=m[0],E=m[1],h=Object(o.useState)(""),b=Object(M.a)(h,2),g=b[0],y=b[1],x=Object(o.useCallback)(function(){n(!0)},[]),N=Object(o.useCallback)(function(){n(!1)},[]),C=Object(o.useCallback)(function(){return l(!0)},[]),k=Object(o.useCallback)(function(){l(!1)},[]),O=Object(o.useContext)(X),j=O.title,D=O.field,R=O.editType,S=O.maxExecDuration,T=O.maxTrialNum,w=O.trialConcurrency,I=O.updateOverviewPage,P=f.a.profile.params.maxExperimentDuration,A=Object(o.useContext)(v.a),L=A.maxDurationUnit,z=A.changeMaxDurationUnit,U=Object(o.useState)(L),W=Object(M.a)(U,2),H=W[0],F=W[1],B="",_="";"Max duration"===j?(B=S,_=S):j===q.g?(B=T.toString(),_=T.toString()):(B=w.toString(),_=w.toString());var G=Object(o.useState)(_),Y=Object(M.a)(G,2),J=Y[0],Z=Y[1];function $(e){Z(e.target.value)}function ee(e,t){y(e),E(t),C(),setTimeout(k,2e3)}function te(e,t){void 0!==t&&F(t.key)}function ie(){return le.apply(this,arguments)}function le(){return(le=Object(K.a)(V.a.mark(function e(){var t,a,n,r;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t="Max duration"===j,a=Object.assign({},f.a.profile),n="",!t){e.next=10;break}if(J.match(/^\d+(?=\.{0,1}\d+$|$)/)){e.next=8;break}return ee("Please enter a number!","error"),Z(B),e.abrupt("return");case 8:e.next=14;break;case 10:if(J.match(/^[1-9]\d*$/)){e.next=14;break}return ee("Please enter a positive integer!","error"),Z(B),e.abrupt("return");case 14:if(n=t?S:j===q.g?T.toString():w.toString(),J!==n){e.next=24;break}if(!t){e.next=22;break}if(L!==H){e.next=20;break}return ee("Trial ".concat(D," has not changed"),"error"),e.abrupt("return");case 20:e.next=24;break;case 22:return ee("Trial ".concat(D," has not changed"),"error"),e.abrupt("return");case 24:return t?(r=JSON.parse(J),a.params[D]="".concat(r).concat(H)):a.params[D]=parseInt(J,10),e.prev=25,e.next=28,Q.a.put("".concat(q.f,"/experiment"),a,{params:{update_type:R}});case 28:200===e.sent.status&&(t&&z(H),ee("Successfully updated experiment's ".concat(D),"success"),I()),e.next=37;break;case 32:e.prev=32,e.t0=e.catch(25),e.t0.response&&e.t0.response.data.error?ee("Failed to update trial ".concat(D,"\n").concat(e.t0.response.data.error),"error"):e.t0.response?ee("Failed to update trial ".concat(D,"\nServer responsed ").concat(e.t0.response.status),"error"):e.t0.message?ee("Failed to update trial ".concat(D,"\n").concat(e.t0.message),"error"):ee("Failed to update trial ".concat(D,"\nUnknown error"),"error"),Z(B),a.params[D]=t?P:n;case 37:x();case 38:case"end":return e.stop()}},e,null,[[25,32]])}))).apply(this,arguments)}function oe(){Z(B),x(),F(L)}return s.a.createElement(v.a.Consumer,null,function(e){return s.a.createElement(X.Consumer,null,function(t){var n,r="";return"maxExperimentDuration"===t.field&&(r=a?"noEditDuration":"editDuration"),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(r," editparam")},s.a.createElement("div",{className:"title"},t.title),s.a.createElement("input",{className:"".concat(t.field," editparam-Input"),ref:ce,disabled:!!a,value:J,onChange:$}),a&&"Max duration"===j&&s.a.createElement("span",null,"d"===(n=e.maxDurationUnit)?"day":"h"===n?"hour":"m"===n?"min":n),!a&&"Max duration"===j&&s.a.createElement(p.a,{selectedKey:H,options:ae,className:"editparam-dropdown",onChange:te}),a&&s.a.createElement("span",{className:"edit cursor",onClick:N},ne.d),!a&&s.a.createElement("span",{className:"series"},s.a.createElement("span",{className:"confirm cursor",onClick:ie},ne.b),s.a.createElement("span",{className:"cancel cursor",onClick:oe},ne.a)),i&&s.a.createElement(re.a,{className:"info",typeInfo:d,info:g})))})})},le=s.a.createContext({maxExecDuration:0,execDuration:0,updateOverviewPage:function(){},maxDurationUnit:"m",changeMaxDurationUnit:function(e){}}),oe={width:"60%",position:"relative"},se={paddingLeft:"9%",boxSizing:"border-box"},ue=function(){return s.a.createElement(le.Consumer,null,function(e){var t=e.maxExecDuration,a=e.execDuration,n=e.maxDurationUnit,r=e.updateOverviewPage,c=t-a,i=a/t,l=Object(O.b)(a),o=Object(O.c)(n,t).toString();return s.a.createElement(u.a,{horizontal:!0,className:"ExpDuration"},s.a.createElement("div",{style:oe},s.a.createElement(G.a,{content:"".concat(Object(O.b)(c)," remaining"),directionalHint:Y.a.bottomCenter,tooltipProps:{calloutProps:{styles:{beak:{background:q.l},beakCurtain:{background:q.l},calloutMain:{background:q.l}}}}},s.a.createElement(J.a,{className:f.a.status,percentComplete:i,barHeight:8})),s.a.createElement("div",{className:"exp-progress"},s.a.createElement("span",{className:"".concat(f.a.status," bold")},l),s.a.createElement("span",{className:"joiner"},"/"),s.a.createElement("span",null,"".concat(o," ").concat(n)))),s.a.createElement("div",{style:se},s.a.createElement(X.Provider,{value:{editType:q.b[0],field:"maxExperimentDuration",title:"Max duration",maxExecDuration:o,maxTrialNum:f.a.maxTrialNumber,trialConcurrency:f.a.profile.params.trialConcurrency,updateOverviewPage:r}},s.a.createElement(ie,null))))})},me={childrenGap:60},de={childrenGap:80},pe=function(){var e=f.b.countStatus(),t=e.get("USER_CANCELED")+e.get("SYS_CANCELED")+e.get("EARLY_STOPPED"),a=e.get("RUNNING")+e.get("SUCCEEDED")+e.get("FAILED")+t,n=f.a.maxTrialNumber,r=a/n;return o.createElement(le.Consumer,null,function(c){var i=c.updateOverviewPage;return o.createElement(o.Fragment,null,o.createElement(u.a,{horizontal:!0,className:"ExpDuration"},o.createElement("div",{style:oe},o.createElement(G.a,{content:"".concat(a.toString()," trials"),directionalHint:Y.a.bottomCenter,tooltipProps:{calloutProps:{styles:{beak:{background:q.l},beakCurtain:{background:q.l},calloutMain:{background:q.l}}}}},o.createElement(J.a,{className:f.a.status,percentComplete:r,barHeight:8})),o.createElement("div",{className:"exp-progress"},o.createElement("span",{className:"".concat(f.a.status," bold")},a),o.createElement("span",{className:"joiner"},"/"),o.createElement("span",null,n)))),o.createElement(u.a,{horizontal:!0,className:"marginTop"},o.createElement("div",{style:oe},o.createElement(u.a,{horizontal:!0,className:"status-count",tokens:me},o.createElement("div",null,o.createElement("span",null,"Running"),o.createElement("p",null,e.get("RUNNING"))),o.createElement("div",null,o.createElement("span",null,"Succeeded"),o.createElement("p",null,e.get("SUCCEEDED"))),o.createElement("div",null,o.createElement("span",null,"Stopped"),o.createElement("p",null,t))),o.createElement(u.a,{horizontal:!0,className:"status-count marginTop",tokens:de},o.createElement("div",null,o.createElement("span",null,"Failed"),o.createElement("p",null,e.get("FAILED"))),o.createElement("div",null,o.createElement("span",null,"Waiting"),o.createElement("p",null,e.get("WAITING"))))),o.createElement("div",{style:se},o.createElement(X.Provider,{value:{title:q.g,field:"maxTrialNumber",editType:q.b[1],maxExecDuration:"",maxTrialNum:f.a.maxTrialNumber,trialConcurrency:f.a.profile.params.trialConcurrency,updateOverviewPage:i}},o.createElement("div",{className:"maxTrialNum"},o.createElement(ie,null))),o.createElement("div",{className:"concurrency"},o.createElement(X.Provider,{value:{title:"Concurrency",field:"trialConcurrency",editType:q.b[2],maxExecDuration:"",maxTrialNum:f.a.maxTrialNumber,trialConcurrency:f.a.profile.params.trialConcurrency,updateOverviewPage:i}},o.createElement(ie,null))))))})},fe=(a(806),function(){var e=f.a.profile.params.tuner,t=f.a.profile.params.advisor,a=f.a.profile.params.assessor,n=[],r=[];return void 0!==e&&(n.push("Tuner"),r.push(e.name||e.className||"unknown")),void 0!==t&&(n.push("Advisor"),r.push(t.name||t.className||"unknown")),void 0!==a&&(n.push("Assessor"),r.push(a.name||a.className||"unknown")),s.a.createElement("div",{className:"basic",style:se},s.a.createElement("div",null,s.a.createElement("p",{className:"command"},"Training platform"),s.a.createElement("div",{className:"ellipsis"},f.a.trainingServicePlatform),s.a.createElement("p",{className:"lineMargin"},n.join("/")),s.a.createElement("div",{className:"ellipsis"},r.join("/"))))}),ve=function(){return s.a.createElement("div",{className:"basic",style:oe},s.a.createElement("p",{className:"command"},"Log directory"),s.a.createElement("div",{className:"ellipsis"},s.a.createElement(G.a,{content:f.a.profile.logDir||"unknown",className:"ellipsis",directionalHint:Y.a.bottomCenter,tooltipProps:{calloutProps:{styles:{beak:{background:q.l},beakCurtain:{background:q.l},calloutMain:{background:q.l}}}}},f.a.profile.logDir||"unknown")),s.a.createElement("p",{className:"lineMargin"},"Trial command"),s.a.createElement("div",{className:"ellipsis"},s.a.createElement(G.a,{content:f.a.config.trialCommand||"unknown",className:"ellipsis",directionalHint:Y.a.bottomCenter,tooltipProps:{calloutProps:{styles:{beak:{background:q.l},beakCurtain:{background:q.l},calloutMain:{background:q.l}}}}},f.a.config.trialCommand||"unknown")))},Ee=a(674);a(703),a(954),a(750);function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}a.d(t,"BestMetricContext",function(){return be});var be=o.createContext({bestAccuracy:0}),ge=function(e){Object(c.a)(a,e);var t=he(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).context=void 0,r.clickMaxTop=function(e){e.stopPropagation(),(0,r.context.changeMetricGraphMode)("max")},r.clickMinTop=function(e){e.stopPropagation(),(0,r.context.changeMetricGraphMode)("min")},r.updateEntries=function(e,t){void 0!==t&&r.context.changeEntries(t.key)},r.state={trialConcurrency:f.a.trialConcurrency},r}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.findBestTrials(),a=t.length>0?t[0].accuracy:NaN,n=f.a.profile.execDuration;return o.createElement(v.a.Consumer,null,function(r){var c=r.metricGraphMode,i=r.bestTrialEntries,l=r.maxDurationUnit,s=r.expandRowIDs,v=r.updateOverviewPage,h=r.changeMaxDurationUnit,b=r.changeExpandRowIDs,g="max"===c?"active":"",y="min"===c?"active":"";return o.createElement("div",{className:"overview"},o.createElement("div",{className:"overviewWrapper"},o.createElement("div",{className:"overviewBasicInfo"},o.createElement(Ee.a.Provider,{value:{text:"Experiment",icon:"AutoRacing"}},o.createElement(E.a,null)),o.createElement(be.Provider,{value:{bestAccuracy:a}},o.createElement(_,null))),o.createElement("div",{className:"duration"},o.createElement(Ee.a.Provider,{value:{text:"Duration",icon:"Timer"}},o.createElement(E.a,null)),o.createElement(le.Provider,{value:{maxExecDuration:f.a.maxExperimentDurationSeconds,execDuration:n,updateOverviewPage:v,maxDurationUnit:l,changeMaxDurationUnit:h}},o.createElement(ue,null))),o.createElement("div",{className:"trialCount"},o.createElement(Ee.a.Provider,{value:{text:"Trial numbers",icon:"NumberSymbol"}},o.createElement(E.a,null)),o.createElement(le.Provider,{value:{maxExecDuration:f.a.maxExperimentDurationSeconds,execDuration:n,updateOverviewPage:v,maxDurationUnit:l,changeMaxDurationUnit:h}},o.createElement(pe,null))),o.createElement("div",{className:"overviewBestMetric"},o.createElement(u.a,{horizontal:!0},o.createElement("div",{style:ee},o.createElement(Ee.a.Provider,{value:{text:"Top trials",icon:"BulletedList"}},o.createElement(E.a,null))),o.createElement("div",{className:"topTrialTitle"},o.createElement(u.a,{horizontal:!0,horizontalAlign:"end"},o.createElement(m.a,{onClick:e.clickMaxTop,className:g,styles:{root:{minWidth:70,padding:0}}},o.createElement(d.a,{iconName:"Market"}),o.createElement("span",{className:"max"},"Max")),o.createElement("div",{className:"mincenter"},o.createElement(m.a,{onClick:e.clickMinTop,className:y,styles:{root:{minWidth:70,padding:0}}},o.createElement(d.a,{iconName:"MarketDown"}),o.createElement("span",{className:"max"},"Min"))),o.createElement("div",null,o.createElement(u.a,{horizontal:!0},o.createElement("div",{className:"chooseEntry"},"Display top"),o.createElement("div",null,o.createElement(p.a,{selectedKey:i,options:te,onChange:e.updateEntries,styles:{root:{width:70}}}))))))),o.createElement("div",{className:"overviewChart"},o.createElement(P.a,{trialIds:t.map(function(e){return e.info.trialJobId}),chartHeight:300,hasBestCurve:!1,changeExpandRowIDs:b}),o.createElement(I,{trialIds:t.map(function(e){return e.info.trialJobId}),updateOverviewPage:v,expandRowIDs:s,changeExpandRowIDs:b}))),o.createElement(u.a,{className:"overviewCommand",horizontal:!0},o.createElement(ve,null),o.createElement(fe,null))))})}},{key:"findBestTrials",value:function(){var e=f.b.sort(),t=this.context,a=t.bestTrialEntries;return"max"===t.metricGraphMode?e.reverse().splice(JSON.parse(a)):e.splice(JSON.parse(a)),e}}]),a}(o.Component);ge.contextType=v.a;t.default=ge},674:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(3),r=n.createContext({text:"",icon:""})},675:function(e,t,a){},680:function(e,t,a){},681:function(e,t,a){"use strict";var n=a(3),r=a.n(n),c=a(676),i=a.n(c),l=a(646),o=a(29),s=a(1016),u=a(84);t.a=function(e){var t=e.value,a=e.hideTooltip,c=Object(n.useRef)(null);return r.a.createElement("div",null,r.a.createElement(l.a,{iconProps:{iconName:"Copy"},styles:{icon:[{fontSize:o.d.small}]},onClick:function(e){e.stopPropagation(),i()(t),c.current&&c.current.show(),setTimeout(function(){null!==c.current&&c.current.dismiss()},1e3)},onMouseDown:function(e){e.stopPropagation()},onMouseUp:function(e){e.stopPropagation()}}),r.a.createElement(s.a,{hidden:a,content:"Copied",componentRef:c,delay:0,tooltipProps:{calloutProps:{styles:{beak:{background:u.l},beakCurtain:{background:u.l},calloutMain:{background:u.l}}}}}))}},682:function(e,t,a){},703:function(e,t,a){},720:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(3),r=a.n(n),c=a(600),i=a(645),l=a(187),o=a(674);a(675);Object(c.a)();var s=function(){return r.a.createElement(o.a.Consumer,null,function(e){return r.a.createElement(i.a,{horizontal:!0,className:"panelTitle"},r.a.createElement(l.a,{iconName:e.icon}),r.a.createElement("span",null,e.text))})}},742:function(e,t,a){},745:function(e,t,a){"use strict";var n=a(88),r=a(100),c=a(143),i=a(144),l=a(104),o=a(3),s=a(645),u=a(1021),m=a(692),d=a(75);a(804),a(688),a(689);function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var f={grid:{left:"8%"},xAxis:{name:"Trial",type:"category"},yAxis:{name:"Default metric",type:"value"}},v=function(e){Object(c.a)(a,e);var t=p(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).loadDefault=function(e,t){r.setState({bestCurveEnabled:t})},r.metricDataZoom=function(e){void 0!==e.batch&&r.setState(function(){return{startY:null!==e.batch[0].start?e.batch[0].start:0,endY:null!==e.batch[0].end?e.batch[0].end:100}})},r.pointClick=function(e){r.props.hasBestCurve||r.props.changeExpandRowIDs(e.data[2],"chart")},r.state={bestCurveEnabled:!1,startY:0,endY:100},r}return Object(r.a)(a,[{key:"generateGraphConfig",value:function(e){var t=this.state,a=t.startY,n=t.endY;return{grid:{left:"8%"},tooltip:{trigger:"item",enterable:this.props.hasBestCurve,confine:!0,formatter:function(e){return'\n                    <div class="tooldetailAccuracy">\n                        <div>Trial No.: '.concat(e.data[0],"</div>\n                        <div>Trial ID: ").concat(e.data[2],"</div>\n                        <div>Default metric: ").concat(e.data[1],"</div>\n                        <div>Parameters: <pre>").concat(JSON.stringify(e.data[3],null,4),"</pre></div>\n                    </div>\n                ")}},dataZoom:[{id:"dataZoomY",type:"inside",yAxisIndex:[0],filterMode:"empty",start:a,end:n}],xAxis:{name:"Trial",type:"category"},yAxis:{name:"Default metric",type:"value",scale:!0},series:void 0}}},{key:"generateScatterSeries",value:function(e){return{symbolSize:6,type:"scatter",data:e.map(function(e){return[e.sequenceId,e.accuracy,e.id,e.description.parameters]})}}},{key:"generateBestCurveSeries",value:function(e){for(var t=e[0],a=[[t.sequenceId,t.accuracy,t.id,t.description.parameters]],n=1;n<e.length;n++){var r=e[n],c=r.accuracy-t.accuracy;("minimize"===d.a.optimizeMode?c<0:c>0)?(a.push([r.sequenceId,r.accuracy,t.id,r.description.parameters]),t=r):a.push([r.sequenceId,t.accuracy,t.id,r.description.parameters])}return{type:"line",lineStyle:{color:"#FF6600"},data:a}}},{key:"render",value:function(){var e=this.props,t=e.hasBestCurve,a=e.chartHeight,n=this.generateGraph(),r=n===f?"No data":"",c={dataZoom:this.metricDataZoom,click:this.pointClick};return o.createElement("div",null,t&&o.createElement(s.a,{horizontalAlign:"end",className:"default-metric"},o.createElement(u.a,{label:"Optimization curve",inlineLabel:!0,onChange:this.loadDefault})),o.createElement("div",{className:"default-metric-graph graph"},o.createElement(m.a,{option:n,style:{width:"100%",height:a,margin:"0 auto"},theme:"nni_theme",notMerge:!0,onEvents:c}),o.createElement("div",{className:"default-metric-noData"},r)))}},{key:"generateGraph",value:function(){var e=d.b.getTrials(this.props.trialIds).filter(function(e){return e.sortable});if(0===e.length)return f;var t=this.generateGraphConfig(e[e.length-1].sequenceId);return this.state.bestCurveEnabled?t.series=[this.generateBestCurveSeries(e),this.generateScatterSeries(e)]:t.series=[this.generateScatterSeries(e)],t}}]),a}(o.Component);t.a=v},749:function(e,t,a){},750:function(e,t,a){},758:function(e,t,a){"use strict";var n=a(88),r=a(100),c=a(143),i=a(144),l=a(104),o=a(3),s=a(676),u=a.n(s),m=a(645),d=a(641),p=a(432),f=a(634),v=a(84),E=a(75),h=a(771),b=a.n(h);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var y=function(e){Object(c.a)(a,e);var t=g(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.eachLogpath,a=e.logName,n=/^http/gi.test(t);return o.createElement("div",{className:"logpath"},o.createElement("span",{className:"logName"},a),n?o.createElement("a",{className:"logContent logHref",rel:"noopener noreferrer",href:t,target:"_blank"},t):o.createElement("span",{className:"logContent"},t))}}]),a}(o.Component);function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var N=function(e){Object(c.a)(a,e);var t=x(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.logString,a=e.id,n=e.logCollect;return o.createElement("div",null,""===t?null:o.createElement("div",null,n?o.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat(v.c,"/trial_").concat(a,".log"),style:{marginRight:10}},"Trial stdout"):o.createElement(y,{eachLogpath:t,logName:"Trial stdout:"})))}}]),a}(o.Component);function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var k=function(e){Object(c.a)(a,e);var t=C(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.logStr,a=e.id,n=e.logCollection,r=-1!==t.indexOf(",");return o.createElement("div",null,o.createElement("div",null,r?o.createElement("div",null,n?o.createElement("div",null,o.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat(v.c,"/trial_").concat(a,".log"),style:{marginRight:10}},"Trial stdout"),o.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t.split(",")[1]},"NFS log")):o.createElement("div",null,o.createElement(y,{eachLogpath:t.split(",")[0],logName:"Trial stdout:"}),o.createElement(y,{eachLogpath:t.split(",")[1],logName:"Log on NFS:"}))):o.createElement(N,{logString:t,id:a,logCollect:n})))}}]),a}(o.Component);function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var j=function(e){Object(c.a)(a,e);var t=O(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.logStr;return o.createElement("div",null,o.createElement(y,{eachLogpath:e,logName:"Log path:"}))}}]),a}(o.Component),D=a(350);a(703),a(742),a(680);function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var S=function(e){Object(c.a)(a,e);var t=R(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).hideMessageInfo=function(){r.setState(function(){return{isHidenInfo:!0}})},r.getCopyStatus=function(e,t){r.setState(function(){return{info:e,typeInfo:t,isHidenInfo:!1}}),setTimeout(r.hideMessageInfo,2e3)},r.copyParams=function(e){var t=JSON.stringify(e.description.parameters,null,4);u.a(t)?r.getCopyStatus("Success copy parameters to clipboard in form of python dict !","success"):r.getCopyStatus("Failed !","error")},r.openTrialLog=function(e){window.open("".concat(v.f,"/trial-log/").concat(r.props.trialId,"/").concat(e))},r.state={typeInfo:"",info:"",isHidenInfo:!0},r}return Object(r.a)(a,[{key:"render",value:function(){var e=this.state,t=e.isHidenInfo,a=e.typeInfo,n=e.info,r=this.props.trialId,c=E.b.getTrial(r),i=c.info.logPath||"This trial's log path is not available.";return o.createElement(m.a,{className:"openRow"},o.createElement(m.a,{className:"openRowContent"},o.createElement(d.a,null,o.createElement(p.a,{headerText:"Parameters",key:"1",itemIcon:"TestParameter"},void 0!==c.info.hyperParameters?o.createElement(m.a,{id:"description"},o.createElement(m.a,{className:"bgHyper"},o.createElement(b.a,{hideRoot:!0,shouldExpandNode:function(){return!0},getItemString:function(){return null},data:c.description.parameters})),o.createElement(m.a,{horizontal:!0,className:"copy"},o.createElement(f.a,{onClick:this.copyParams.bind(this,c),text:"Copy as json",styles:{root:{width:128,marginRight:10}}}),!t&&o.createElement(D.a,{typeInfo:a,info:n}))):o.createElement(m.a,{className:"logpath"},o.createElement("span",{className:"logName"},"Error: "),o.createElement("span",{className:"error"},"This trial's parameters are not available.'"))),o.createElement(p.a,{headerText:"Log",key:"2",itemIcon:"M365InvoicingLogo"},"local"!==E.a.trainingServicePlatform?o.createElement(k,{logStr:i,id:r,logCollection:E.a.logCollectionEnabled}):o.createElement("div",null,o.createElement(j,{logStr:i,id:r}),o.createElement("div",{id:"trialog"},o.createElement("div",{className:"copy",style:{marginTop:15}},o.createElement(f.a,{onClick:this.openTrialLog.bind(this,"TRIAL_LOG"),text:"View trial log"}),o.createElement(f.a,{onClick:this.openTrialLog.bind(this,"TRIAL_ERROR"),text:"View trial error",styles:{root:{marginLeft:15}}}),o.createElement(f.a,{onClick:this.openTrialLog.bind(this,"TRIAL_STDOUT"),text:"View trial stdout",styles:{root:{marginLeft:15}}}))))))))}}]),a}(o.Component);t.a=S},805:function(e,t,a){},806:function(e,t,a){},943:function(e,t,a){},953:function(e,t,a){},954:function(e,t,a){}}]);
//# sourceMappingURL=7.c17127ab.chunk.js.map