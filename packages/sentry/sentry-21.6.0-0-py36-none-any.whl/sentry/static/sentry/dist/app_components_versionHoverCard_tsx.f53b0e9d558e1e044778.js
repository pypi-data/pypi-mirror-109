(self.webpackChunk=self.webpackChunk||[]).push([["app_components_versionHoverCard_tsx"],{"./app/actionCreators/release.tsx":(e,t,s)=>{"use strict";s.d(t,{o7:()=>d,dF:()=>u,VE:()=>p,aQ:()=>m}),s("../node_modules/core-js/modules/es.array.concat.js");var r=s("../node_modules/@sentry/minimal/esm/index.js"),o=s("../node_modules/@sentry/types/esm/severity.js"),n=s("./app/actionCreators/indicator.tsx"),i=s("./app/actions/releaseActions.tsx"),a=s("./app/locale.tsx"),l=s("./app/stores/releaseStore.tsx"),c=s("./app/types/index.tsx");function d(e,t){var s=t.orgSlug,n=t.projectSlug,a=t.releaseVersion,c="/projects/".concat(s,"/").concat(n,"/releases/").concat(encodeURIComponent(a),"/");return l.Z.state.releaseLoading[(0,l.p)(n,a)]=!0,i.Z.loadRelease(s,n,a),e.requestPromise(c,{method:"GET"}).then((function(e){i.Z.loadReleaseSuccess(n,a,e)})).catch((function(e){404!==e.status?(i.Z.loadReleaseError(n,a,e),r.$e((function(t){t.setLevel(o.z.Warning),t.setFingerprint(["getRelease-action-creator"]),r.Tb(e)}))):i.Z.loadReleaseSuccess(n,a,null)}))}function u(e,t){var s=t.orgSlug,n=t.projectSlug,a=t.releaseVersion,c="/organizations/".concat(s,"/releases/").concat(encodeURIComponent(a),"/deploys/");return l.Z.state.deploysLoading[(0,l.p)(n,a)]=!0,i.Z.loadDeploys(s,n,a),e.requestPromise(c,{method:"GET"}).then((function(e){i.Z.loadDeploysSuccess(n,a,e)})).catch((function(e){404!==e.status?(i.Z.loadDeploysError(n,a,e),r.$e((function(t){t.setLevel(o.z.Warning),t.setFingerprint(["getReleaseDeploys-action-creator"]),r.Tb(e)}))):i.Z.loadDeploysSuccess(n,a,null)}))}function p(e,t){var s=t.orgSlug,r=t.projectSlug,o=t.releaseVersion;return i.Z.loadRelease(s,r,o),(0,n.E3)((0,a.t)("Archiving Release…")),e.requestPromise("/organizations/".concat(s,"/releases/"),{method:"POST",data:{status:c.dE.Archived,projects:[],version:o}}).then((function(e){i.Z.loadReleaseSuccess(r,o,e),(0,n.S9)((0,a.t)("Release was successfully archived."))})).catch((function(e){var t,s;throw i.Z.loadReleaseError(r,o,e),(0,n.Iw)(null!==(t=null===(s=e.responseJSON)||void 0===s?void 0:s.detail)&&void 0!==t?t:(0,a.t)("Release could not be be archived.")),e}))}function m(e,t){var s=t.orgSlug,r=t.projectSlug,o=t.releaseVersion;return i.Z.loadRelease(s,r,o),(0,n.E3)((0,a.t)("Restoring Release…")),e.requestPromise("/organizations/".concat(s,"/releases/"),{method:"POST",data:{status:c.dE.Active,projects:[],version:o}}).then((function(e){i.Z.loadReleaseSuccess(r,o,e),(0,n.S9)((0,a.t)("Release was successfully restored."))})).catch((function(e){var t,s;throw i.Z.loadReleaseError(r,o,e),(0,n.Iw)(null!==(t=null===(s=e.responseJSON)||void 0===s?void 0:s.detail)&&void 0!==t?t:(0,a.t)("Release could not be be restored.")),e}))}},"./app/actions/releaseActions.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s("../node_modules/reflux/src/index.js");const o=s.n(r)().createActions(["loadRelease","loadReleaseError","loadReleaseSuccess","loadDeploys","loadDeploysError","loadDeploysSuccess"])},"./app/actions/repositoryActions.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s("../node_modules/reflux/src/index.js");const o=s.n(r)().createActions(["resetRepositories","loadRepositories","loadRepositoriesError","loadRepositoriesSuccess"])},"./app/components/versionHoverCard.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>F}),s("../node_modules/core-js/modules/es.reflect.construct.js"),s("../node_modules/core-js/modules/es.symbol.js"),s("../node_modules/core-js/modules/es.array.filter.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("../node_modules/core-js/modules/es.array.for-each.js"),s("../node_modules/core-js/modules/web.dom-collections.for-each.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),s("../node_modules/core-js/modules/es.object.define-properties.js"),s("../node_modules/core-js/modules/es.object.define-property.js");var r=s("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=s("../node_modules/@babel/runtime/helpers/esm/createClass.js"),n=s("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),i=s("../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=s("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=s("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),u=(s("../node_modules/core-js/modules/es.array.concat.js"),s("../node_modules/core-js/modules/es.array.reduce.js"),s("../node_modules/core-js/modules/es.object.keys.js"),s("../node_modules/core-js/modules/es.array.slice.js"),s("../node_modules/core-js/modules/es.array.map.js"),s("../node_modules/react/index.js")),p=s("./app/components/avatar/avatarList.tsx"),m=s("./app/components/button.tsx"),g=s("./app/components/clipboard.tsx"),h=s("./app/components/hovercard.tsx"),y=(s("../node_modules/core-js/modules/es.regexp.exec.js"),s("../node_modules/core-js/modules/es.string.split.js"),s("../node_modules/core-js/modules/es.array.join.js"),s("../node_modules/core-js/modules/es.function.name.js"),s("./app/components/avatar/userAvatar.tsx")),j=s("./app/components/timeSince.tsx"),f=s("./app/locale.tsx"),v=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");var b={id:"",name:"",username:"??",email:"",avatarUrl:"",avatar:{avatarUuid:"",avatarType:"letter_avatar"},ip_address:""},Z=function(e){(0,i.Z)(c,e);var t,s,n=(t=c,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(s){var o=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,a.Z)(this,e)});function c(){return(0,r.Z)(this,c),n.apply(this,arguments)}return(0,o.Z)(c,[{key:"renderMessage",value:function(e){if(!e)return(0,f.t)("No message provided");var t=e.split(/\n/)[0];if(t.length>100){var s=t.substr(0,90),r=s.split(/ /);return r.length>1&&(r.pop(),s=r.join(" ")),s+"..."}return t}},{key:"render",value:function(){var e=this.props,t=e.commit,s=e.headerClass,r=t&&t.author;return(0,v.BX)("div",{children:[(0,v.tZ)("h6",{className:s,children:"Last commit"}),(0,v.BX)("div",{className:"commit",children:[(0,v.tZ)("div",{className:"commit-avatar",children:(0,v.tZ)(y.Z,{user:r||b})}),(0,v.tZ)("div",{className:"commit-message truncate",children:this.renderMessage(t.message)}),(0,v.BX)("div",{className:"commit-meta",children:[(0,v.tZ)("strong",{children:r&&r.name||(0,f.t)("Unknown Author")})," ",(0,v.tZ)(j.Z,{date:t.dateCreated})]})]})]})}}]),c}(u.Component);Z.displayName="LastCommit";const O=Z;var w=s("./app/components/loadingError.tsx"),x=s("./app/components/loadingIndicator.tsx"),S=s("./app/styles/overflowEllipsis.tsx");const _=(0,d.Z)("span",{target:"eut5h770"})("font-weight:700;color:",(function(e){return e.theme.white}),";text-align:center;white-space:nowrap;border-radius:0.25em;",S.Z,";display:inline-block;vertical-align:text-bottom;line-height:1;background:",(function(e){return e.theme.gray200}),";padding:3px;max-width:86px;font-size:",(function(e){return e.theme.fontSizeSmall}),";");var E=s("./app/components/version.tsx"),R=s("./app/icons/index.tsx"),P=s("./app/styles/space.tsx"),L=s("./app/utils.tsx"),D=s("./app/utils/withApi.tsx"),k=s("../node_modules/create-react-class/index.js"),C=s.n(k),N=s("../node_modules/reflux/src/index.js"),z=s.n(N),B=s("./app/actionCreators/release.tsx"),M=s("./app/stores/releaseStore.tsx"),A=s("./app/utils/getDisplayName.tsx");function T(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function V(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?T(Object(s),!0).forEach((function(t){(0,c.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):T(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var X=s("./app/utils/withRepositories.tsx");function U(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function I(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?U(Object(s),!0).forEach((function(t){(0,c.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):U(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var q=function(e){(0,i.Z)(u,e);var t,s,d=(t=u,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(s){var o=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,a.Z)(this,e)});function u(){var e;(0,r.Z)(this,u);for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return e=d.call.apply(d,[this].concat(s)),(0,c.Z)((0,n.Z)(e),"state",{visible:!1}),e}return(0,o.Z)(u,[{key:"toggleHovercard",value:function(){this.setState({visible:!0})}},{key:"getRepoLink",value:function(){var e=this.props.organization.slug;return{header:null,body:(0,v.BX)(H,{children:[(0,v.tZ)("h5",{children:(0,f.t)("Releases are better with commit data!")}),(0,v.tZ)("p",{children:(0,f.t)("Connect a repository to see commit info, files changed, and authors involved in future releases.")}),(0,v.tZ)(m.ZP,{href:"/organizations/".concat(e,"/repos/"),priority:"primary",children:(0,f.t)("Connect a repository")})]})}}},{key:"getBody",value:function(){var e=this.props,t=e.releaseVersion,s=e.release,r=e.deploys;if(void 0===s||!(0,L.ri)(r))return{header:null,body:null};var o=s.lastCommit,n=r.reduce((function(e,t){var s=t.dateFinished,r=t.environment;return e.hasOwnProperty(r)||(e[r]=s),e}),{}),i=Object.keys(n);return Object.keys(n).length>3&&(i=Object.keys(n).slice(0,3)),{header:(0,v.BX)(J,{children:[(0,f.t)("Release"),(0,v.BX)(Q,{children:[(0,v.tZ)(K,{version:t,truncate:!0,anchor:!1}),(0,v.tZ)(g.Z,{value:t,children:(0,v.tZ)(Y,{children:(0,v.tZ)(R.vU,{size:"xs"})})})]})]}),body:(0,v.BX)("div",{children:[(0,v.BX)("div",{className:"row row-flex",children:[(0,v.BX)("div",{className:"col-xs-4",children:[(0,v.tZ)("h6",{children:(0,f.t)("New Issues")}),(0,v.tZ)("div",{className:"count-since",children:s.newGroups})]}),(0,v.BX)("div",{className:"col-xs-8",children:[(0,v.BX)("h6",{style:{textAlign:"right"},children:[s.commitCount," ",1!==s.commitCount?(0,f.t)("commits "):(0,f.t)("commit ")," ",(0,f.t)("by ")," ",s.authors.length," ",1!==s.authors.length?(0,f.t)("authors"):(0,f.t)("author")," "]}),(0,v.tZ)(p.Z,{users:s.authors,avatarSize:25,tooltipOptions:{container:"body"},typeMembers:"authors"})]})]}),o&&(0,v.tZ)(O,{commit:o,headerClass:"commit-heading"}),r.length>0&&(0,v.BX)("div",{children:[(0,v.tZ)("div",{className:"divider",children:(0,v.tZ)("h6",{className:"deploy-heading",children:(0,f.t)("Deploys")})}),i.map((function(e,t){var s=n[e];return(0,v.tZ)("div",{className:"deploy",children:(0,v.BX)("div",{className:"deploy-meta",style:{position:"relative"},children:[(0,v.tZ)(W,{children:e}),s&&(0,v.tZ)($,{date:s})]})},t)}))]})]})}}},{key:"render",value:function(){var e,t=this.props,s=t.deploysLoading,r=t.deploysError,o=t.release,n=t.releaseLoading,i=t.releaseError,a=t.repositories,l=t.repositoriesLoading,c=t.repositoriesError,d=null,u=null,p=!!(s||n||l),m=null!==(e=null!=r?r:i)&&void 0!==e?e:c,g=a&&a.length>0;if(p)u=(0,v.tZ)(x.Z,{mini:!0});else if(m)u=(0,v.tZ)(w.Z,{});else{var y=g&&o?this.getBody():this.getRepoLink();d=y.header,u=y.body}return(0,v.tZ)(h.ZP,I(I({},this.props),{},{header:d,body:u,children:this.props.children}))}}]),u}(u.Component);q.displayName="VersionHoverCard";const F=(0,D.Z)((G=(0,X.Z)(q),C()({displayName:"withRelease(".concat((0,A.Z)(G),")"),mixins:[z().listenTo(M.Z,"onStoreUpdate")],getInitialState:function(){var e=this.props,t=e.projectSlug,s=e.releaseVersion;return V({},M.Z.get(t,s))},componentDidMount:function(){this.fetchRelease(),this.fetchDeploys()},fetchRelease:function(){var e=this.props,t=e.api,s=e.organization,r=e.projectSlug,o=e.releaseVersion,n=M.Z.get(r,o),i=s.slug;(!n.release&&!n.releaseLoading||n.releaseError)&&(0,B.o7)(t,{orgSlug:i,projectSlug:r,releaseVersion:o})},fetchDeploys:function(){var e=this.props,t=e.api,s=e.organization,r=e.projectSlug,o=e.releaseVersion,n=M.Z.get(r,o),i=s.slug;(!n.deploys&&!n.deploysLoading||n.deploysError)&&(0,B.dF)(t,{orgSlug:i,projectSlug:r,releaseVersion:o})},onStoreUpdate:function(){var e=this.props,t=e.projectSlug,s=e.releaseVersion,r=M.Z.get(t,s);this.setState(V({},r))},render:function(){return(0,v.tZ)(G,V(V({},this.props),this.state))}})));var G,H=(0,d.Z)("div",{target:"ejgji4u6"})("padding:",(0,P.Z)(2),";text-align:center;"),W=(0,d.Z)(_,{target:"ejgji4u5"})({name:"1uxsuq0",styles:"width:86px"}),$=(0,d.Z)(j.Z,{target:"ejgji4u4"})("color:",(function(e){return e.theme.gray300}),";position:absolute;left:98px;width:50%;padding:3px 0;"),J=(0,d.Z)("div",{target:"ejgji4u3"})({name:"bcffy2",styles:"display:flex;align-items:center;justify-content:space-between"}),Q=(0,d.Z)("div",{target:"ejgji4u2"})({name:"8nnmo9",styles:"display:flex;flex:1;align-items:center;justify-content:flex-end"}),K=(0,d.Z)(E.Z,{target:"ejgji4u1"})("margin-right:",(0,P.Z)(.5),";max-width:190px;"),Y=(0,d.Z)("span",{target:"ejgji4u0"})({name:"1p3qk0r",styles:"&:hover{cursor:pointer;}"})},"./app/stores/releaseStore.tsx":(e,t,s)=>{"use strict";s.d(t,{p:()=>u,Z:()=>m});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),n=(s("../node_modules/core-js/modules/es.array.concat.js"),s("../node_modules/core-js/modules/es.array.iterator.js"),s("../node_modules/core-js/modules/es.map.js"),s("../node_modules/core-js/modules/es.object.to-string.js"),s("../node_modules/core-js/modules/es.string.iterator.js"),s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/core-js/modules/es.object.keys.js"),s("../node_modules/core-js/modules/es.symbol.js"),s("../node_modules/core-js/modules/es.array.filter.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("../node_modules/core-js/modules/es.array.for-each.js"),s("../node_modules/core-js/modules/web.dom-collections.for-each.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),s("../node_modules/core-js/modules/es.object.define-properties.js"),s("../node_modules/core-js/modules/es.object.define-property.js"),s("../node_modules/reflux/src/index.js")),i=s.n(n),a=s("./app/actions/organizationActions.tsx"),l=s("./app/actions/releaseActions.tsx");function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){(0,r.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var u=function(e,t){return"".concat(e).concat(t)},p={state:{orgSlug:void 0,release:new Map,releaseLoading:new Map,releaseError:new Map,deploys:new Map,deploysLoading:new Map,deploysError:new Map},listenables:l.Z,init:function(){this.listenTo(a.Z.update,this.updateOrganization),this.reset()},reset:function(){this.state={orgSlug:void 0,release:new Map,releaseLoading:new Map,releaseError:new Map,deploys:new Map,deploysLoading:new Map,deploysError:new Map},this.trigger(this.state)},updateOrganization:function(e){this.reset(),this.state.orgSlug=e.slug,this.trigger(this.state)},loadRelease:function(e,t,s){this.orgSlug&&this.orgSlug===e||(this.reset(),this.orgSlug=e);var n=u(t,s),i=this.state,a=i.releaseLoading,l=i.releaseError,c=(0,o.Z)(i,["releaseLoading","releaseError"]);this.state=d(d({},c),{},{releaseLoading:d(d({},a),{},(0,r.Z)({},n,!0)),releaseError:d(d({},l),{},(0,r.Z)({},n,void 0))}),this.trigger(this.state)},loadReleaseError:function(e,t,s){var n=u(e,t),i=this.state,a=i.releaseLoading,l=i.releaseError,c=(0,o.Z)(i,["releaseLoading","releaseError"]);this.state=d(d({},c),{},{releaseLoading:d(d({},a),{},(0,r.Z)({},n,!1)),releaseError:d(d({},l),{},(0,r.Z)({},n,s))}),this.trigger(this.state)},loadReleaseSuccess:function(e,t,s){var n=u(e,t),i=this.state,a=i.release,l=i.releaseLoading,c=i.releaseError,p=(0,o.Z)(i,["release","releaseLoading","releaseError"]);this.state=d(d({},p),{},{release:d(d({},a),{},(0,r.Z)({},n,s)),releaseLoading:d(d({},l),{},(0,r.Z)({},n,!1)),releaseError:d(d({},c),{},(0,r.Z)({},n,void 0))}),this.trigger(this.state)},loadDeploys:function(e,t,s){this.orgSlug&&this.orgSlug===e||(this.reset(),this.orgSlug=e);var n=u(t,s),i=this.state,a=i.deploysLoading,l=i.deploysError,c=(0,o.Z)(i,["deploysLoading","deploysError"]);this.state=d(d({},c),{},{deploysLoading:d(d({},a),{},(0,r.Z)({},n,!0)),deploysError:d(d({},l),{},(0,r.Z)({},n,void 0))}),this.trigger(this.state)},loadDeploysError:function(e,t,s){var n=u(e,t),i=this.state,a=i.deploysLoading,l=i.deploysError,c=(0,o.Z)(i,["deploysLoading","deploysError"]);this.state=d(d({},c),{},{deploysLoading:d(d({},a),{},(0,r.Z)({},n,!1)),deploysError:d(d({},l),{},(0,r.Z)({},n,s))}),this.trigger(this.state)},loadDeploysSuccess:function(e,t,s){var n=u(e,t),i=this.state,a=i.deploys,l=i.deploysLoading,c=i.deploysError,p=(0,o.Z)(i,["deploys","deploysLoading","deploysError"]);this.state=d(d({},p),{},{deploys:d(d({},a),{},(0,r.Z)({},n,s)),deploysLoading:d(d({},l),{},(0,r.Z)({},n,!1)),deploysError:d(d({},c),{},(0,r.Z)({},n,void 0))}),this.trigger(this.state)},get:function(e,t){var s=u(e,t);return{release:this.state.release[s],releaseLoading:this.state.releaseLoading[s],releaseError:this.state.releaseError[s],deploys:this.state.deploys[s],deploysLoading:this.state.deploysLoading[s],deploysError:this.state.deploysError[s]}}};const m=i().createStore(p)},"./app/utils/withRepositories.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>b}),s("../node_modules/core-js/modules/es.object.keys.js"),s("../node_modules/core-js/modules/es.symbol.js"),s("../node_modules/core-js/modules/es.array.filter.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("../node_modules/core-js/modules/es.array.for-each.js"),s("../node_modules/core-js/modules/web.dom-collections.for-each.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),s("../node_modules/core-js/modules/es.object.define-properties.js"),s("../node_modules/core-js/modules/es.object.define-property.js");var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=(s("../node_modules/react/index.js"),s("../node_modules/create-react-class/index.js")),n=s.n(o),i=s("../node_modules/reflux/src/index.js"),a=s.n(i),l=s("../node_modules/@sentry/minimal/esm/index.js"),c=s("../node_modules/@sentry/types/esm/severity.js"),d=s("./app/actions/repositoryActions.tsx");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function p(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){(0,r.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var m={listenables:d.Z,state:{orgSlug:void 0,repositories:void 0,repositoriesLoading:void 0,repositoriesError:void 0},init:function(){this.resetRepositories()},resetRepositories:function(){this.state={orgSlug:void 0,repositories:void 0,repositoriesLoading:void 0,repositoriesError:void 0},this.trigger(this.state)},loadRepositories:function(e){this.state={orgSlug:e,repositories:e===this.state.orgSlug?this.state.repositories:void 0,repositoriesLoading:!0,repositoriesError:void 0},this.trigger(this.state)},loadRepositoriesError:function(e){this.state=p(p({},this.state),{},{repositories:void 0,repositoriesLoading:!1,repositoriesError:e}),this.trigger(this.state)},loadRepositoriesSuccess:function(e){this.state=p(p({},this.state),{},{repositories:e,repositoriesLoading:!1,repositoriesError:void 0}),this.trigger(this.state)},get:function(){return p({},this.state)}};const g=a().createStore(m);var h=s("./app/utils/getDisplayName.tsx"),y=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function j(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function f(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?j(Object(s),!0).forEach((function(t){(0,r.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):j(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var v={repositories:void 0,repositoriesLoading:void 0,repositoriesError:void 0};const b=function(e){return n()({displayName:"withRepositories(".concat((0,h.Z)(e),")"),mixins:[a().listenTo(g,"onStoreUpdate")],getInitialState:function(){var e=this.props.organization.slug,t=g.get();return t.orgSlug!==e&&d.Z.resetRepositories(),t.orgSlug===e?f(f({},v),t):f({},v)},componentDidMount:function(){this.fetchRepositories()},fetchRepositories:function(){var e=this.props,t=e.api,s=e.organization.slug,r=g.get();(!r.repositories&&!r.repositoriesLoading||r.repositoriesError)&&function(e,t){var s=t.orgSlug,r="/organizations/".concat(s,"/repos/");g.state.repositoriesLoading=!0,d.Z.loadRepositories(s),e.requestPromise(r,{method:"GET"}).then((function(e){d.Z.loadRepositoriesSuccess(e)})).catch((function(e){d.Z.loadRepositoriesError(e),l.$e((function(t){t.setLevel(c.z.Warning),t.setFingerprint(["getRepositories-action-creator"]),l.Tb(e)}))}))}(t,{orgSlug:s})},onStoreUpdate:function(){var e=g.get();this.setState(f({},e))},render:function(){return(0,y.tZ)(e,f(f({},this.props),this.state))}})}}}]);
//# sourceMappingURL=app_components_versionHoverCard_tsx.js.map