(self.webpackChunk=self.webpackChunk||[]).push([["app_views_settings_organizationTeams_teamSettings_index_tsx"],{"./app/actionCreators/teams.tsx":(e,t,s)=>{"use strict";s.d(t,{eM:()=>l,z_:()=>d,fs:()=>u,um:()=>m,s:()=>p,Cm:()=>f,tT:()=>h}),s("../node_modules/core-js/modules/es.array.concat.js");var o=s("./app/actionCreators/indicator.tsx"),r=s("./app/actions/teamActions.tsx"),n=s("./app/locale.tsx"),a=s("./app/utils/callIfFunction.tsx"),i=s("./app/utils/guid.tsx"),c=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,s=arguments.length,o=new Array(s>2?s-2:0),r=2;r<s;r++)o[r-2]=arguments[r];a.g.apply(void 0,[e[t]].concat(o))};function l(e,t,s){return r.Z.fetchDetails(t.teamId),e.request("/teams/".concat(t.orgId,"/").concat(t.teamId,"/"),{success:function(e){r.Z.fetchDetailsSuccess(t.teamId,e),c(s,"success",e)},error:function(e){r.Z.fetchDetailsError(t.teamId,e),c(s,"error",e)}})}function d(e,t){r.Z.updateSuccess(e,t)}function u(e,t,s){var o="/teams/".concat(t.orgId,"/").concat(t.teamId,"/");return r.Z.update(t.teamId,t.data),e.request(o,{method:"PUT",data:t.data,success:function(e){d(t.teamId,e),c(s,"success",e)},error:function(e){r.Z.updateError(t.teamId,e),c(s,"error",e)}})}function m(e,t,s){var o,n="/organizations/".concat(t.orgId,"/members/").concat(null!==(o=t.memberId)&&void 0!==o?o:"me","/teams/").concat(t.teamId,"/"),a=(0,i.E)();return r.Z.update(a,t.teamId),e.request(n,{method:"POST",success:function(e){r.Z.updateSuccess(t.teamId,e),c(s,"success",e)},error:function(e){r.Z.updateError(a,t.teamId,e),c(s,"error",e)}})}function p(e,t,s){var o="/organizations/".concat(t.orgId,"/members/").concat(t.memberId||"me","/teams/").concat(t.teamId,"/"),n=(0,i.E)();return r.Z.update(n,t.teamId),e.request(o,{method:"DELETE",success:function(e){r.Z.updateSuccess(t.teamId,e),c(s,"success",e)},error:function(e){r.Z.updateError(n,t.teamId,e),c(s,"error",e)}})}function f(e,t,s){return r.Z.createTeam(t),e.requestPromise("/organizations/".concat(s.orgId,"/teams/"),{method:"POST",data:t}).then((function(e){return r.Z.createTeamSuccess(e),(0,o.S9)((0,n._N)("[team] has been added to the [organization] organization",{team:"#".concat(e.slug),organization:s.orgId})),e}),(function(e){throw r.Z.createTeamError(t.slug,e),(0,o.Iw)((0,n._N)("Unable to create [team] in the [organization] organization",{team:"#".concat(t.slug),organization:s.orgId})),e}))}function h(e,t){return r.Z.removeTeam(t.teamId),e.requestPromise("/teams/".concat(t.orgId,"/").concat(t.teamId,"/"),{method:"DELETE"}).then((function(e){return r.Z.removeTeamSuccess(t.teamId,e),(0,o.S9)((0,n._N)("[team] has been removed from the [organization] organization",{team:"#".concat(t.teamId),organization:t.orgId})),e}),(function(e){throw r.Z.removeTeamError(t.teamId,e),(0,o.Iw)((0,n._N)("Unable to remove [team] from the [organization] organization",{team:"#".concat(t.teamId),organization:t.orgId})),e}))}},"./app/data/forms/teamSettingsFields.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{route:()=>n,default:()=>a});var o=s("./app/locale.tsx"),r=s("./app/utils/slugify.tsx"),n="/settings/:orgId/teams/:teamId/settings/";const a=[{title:"Team Settings",fields:[{name:"slug",type:"string",required:!0,label:(0,o.t)("Name"),placeholder:"e.g. api-team",help:(0,o.t)("A unique ID used to identify the team"),disabled:function(e){return!e.access.has("team:write")},transformInput:r.Z,saveOnBlur:!1,saveMessageAlertType:"info",saveMessage:(0,o.t)("You will be redirected to the new team slug after saving")}]}]},"./app/utils/slugify.tsx":(e,t,s)=>{"use strict";function o(e){return"string"==typeof e?e.toLowerCase().replace(" ","-"):""}s.d(t,{Z:()=>o}),s("../node_modules/core-js/modules/es.regexp.exec.js"),s("../node_modules/core-js/modules/es.string.replace.js")},"./app/views/asyncView.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>m}),s("../node_modules/core-js/modules/es.reflect.construct.js");var o=s("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=s("../node_modules/@babel/runtime/helpers/esm/createClass.js"),n=s("../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=s("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),i=s("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=(s("../node_modules/react/index.js"),s("../node_modules/react-document-title/index.js")),l=s.n(c),d=s("./app/components/asyncComponent.tsx"),u=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");var m=function(e){(0,n.Z)(d,e);var t,s,c=(t=d,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,i.Z)(t);if(s){var r=(0,i.Z)(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return(0,a.Z)(this,e)});function d(){return(0,o.Z)(this,d),c.apply(this,arguments)}return(0,r.Z)(d,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return(0,u.tZ)(l(),{title:"".concat(e?"".concat(e," - "):"","Sentry"),children:this.renderComponent()})}}]),d}(d.Z);m.displayName="AsyncView"},"./app/views/settings/components/forms/formPanel.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>b}),s("../node_modules/core-js/modules/es.reflect.construct.js"),s("../node_modules/core-js/modules/es.object.keys.js"),s("../node_modules/core-js/modules/es.symbol.js"),s("../node_modules/core-js/modules/es.array.filter.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("../node_modules/core-js/modules/es.array.for-each.js"),s("../node_modules/core-js/modules/web.dom-collections.for-each.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),s("../node_modules/core-js/modules/es.object.define-properties.js"),s("../node_modules/core-js/modules/es.object.define-property.js");var o=s("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=s("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),n=s("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=s("../node_modules/@babel/runtime/helpers/esm/inherits.js"),i=s("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=s("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=(s("../node_modules/core-js/modules/es.array.map.js"),s("../node_modules/core-js/modules/es.function.name.js"),s("../node_modules/react/index.js")),u=s("./app/components/panels/index.tsx"),m=s("./app/utils/sanitizeQuerySelector.tsx"),p=s("./app/views/settings/components/forms/fieldFromConfig.tsx"),f=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function h(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function j(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?h(Object(s),!0).forEach((function(t){(0,l.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var b=function(e){(0,a.Z)(d,e);var t,s,l=(t=d,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,c.Z)(t);if(s){var r=(0,c.Z)(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return(0,i.Z)(this,e)});function d(){return(0,r.Z)(this,d),l.apply(this,arguments)}return(0,n.Z)(d,[{key:"render",value:function(){var e=this,t=this.props,s=t.title,r=t.fields,n=t.access,a=t.disabled,i=t.additionalFieldProps,c=t.renderFooter,l=t.renderHeader,d=(0,o.Z)(t,["title","fields","access","disabled","additionalFieldProps","renderFooter","renderHeader"]);return(0,f.BX)(u.s_,{id:"string"==typeof s?(0,m.m)(s):void 0,children:[s&&(0,f.tZ)(u.V9,{children:s}),(0,f.BX)(u.N,{children:["function"==typeof l&&l({title:s,fields:r}),r.map((function(t){if("function"==typeof t)return t();t.defaultValue;var s=(0,o.Z)(t,["defaultValue"]);return!0===a&&(s.disabled=!0,s.disabledReason=void 0),(0,f.tZ)(p.Z,j(j(j({access:n,disabled:a},d),i),{},{field:s,highlighted:e.props.highlighted==="#".concat(t.name)}),t.name)})),"function"==typeof c&&c({title:s,fields:r})]})]})}}]),d}(d.Component);b.displayName="FormPanel",(0,l.Z)(b,"defaultProps",{additionalFieldProps:{}})},"./app/views/settings/components/forms/jsonForm.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>x}),s("../node_modules/core-js/modules/es.reflect.construct.js"),s("../node_modules/core-js/modules/es.object.keys.js"),s("../node_modules/core-js/modules/es.symbol.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("../node_modules/core-js/modules/es.array.for-each.js"),s("../node_modules/core-js/modules/web.dom-collections.for-each.js"),s("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),s("../node_modules/core-js/modules/es.object.define-properties.js"),s("../node_modules/core-js/modules/es.object.define-property.js");var o=s("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=s("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),n=s("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=s("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),i=s("../node_modules/@babel/runtime/helpers/esm/inherits.js"),c=s("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=s("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=(s("../node_modules/core-js/modules/es.array.concat.js"),s("../node_modules/core-js/modules/es.array.filter.js"),s("../node_modules/core-js/modules/es.array.every.js"),s("../node_modules/core-js/modules/es.array.map.js"),s("../node_modules/react/index.js")),m=s("../node_modules/react-router/es/index.js"),p=s("../node_modules/@sentry/minimal/esm/index.js"),f=s("../node_modules/scroll-to-element/index.js"),h=s.n(f),j=s("./app/utils.tsx"),b=s("./app/utils/sanitizeQuerySelector.tsx"),g=s("./app/views/settings/components/forms/formPanel.tsx"),y=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function v(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function _(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?v(Object(s),!0).forEach((function(t){(0,d.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):v(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Z=function(e){(0,i.Z)(f,e);var t,s,m=(t=f,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,l.Z)(t);if(s){var r=(0,l.Z)(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return(0,c.Z)(this,e)});function f(){var e,t;(0,r.Z)(this,f);for(var s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];return t=m.call.apply(m,[this].concat(o)),(0,d.Z)((0,a.Z)(t),"state",{highlighted:null===(e=t.props.location)||void 0===e?void 0:e.hash}),t}return(0,n.Z)(f,[{key:"componentDidMount",value:function(){this.scrollToHash()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.props.location.hash!==e.location.hash){var t=e.location.hash;this.scrollToHash(t),this.setState({highlighted:t})}}},{key:"scrollToHash",value:function(e){var t,s=e||(null===(t=this.props.location)||void 0===t?void 0:t.hash);if(s)try{h()((0,b.m)(decodeURIComponent(s)),{align:"middle",offset:-100})}catch(e){p.Tb(e)}}},{key:"shouldDisplayForm",value:function(e){var t=e.filter((function(e){return"function"!=typeof e&&(0,j.ri)(null==e?void 0:e.visible)}));if(e.length===t.length){var s=this.props,r=s.additionalFieldProps,n=(0,o.Z)(s,["additionalFieldProps"]);return!t.every((function(e){return"function"==typeof e.visible?!e.visible(_(_({},n),r)):!e.visible}))}return!0}},{key:"renderForm",value:function(e){var t=e.fields,s=e.formPanelProps,o=e.title;return this.shouldDisplayForm(t)||null!=s&&s.renderFooter||null!=s&&s.renderHeader?(0,y.tZ)(g.Z,_({title:o,fields:t},s)):null}},{key:"render",value:function(){var e=this,t=this.props,s=t.access,r=t.fields,n=t.title,a=t.forms,i=t.disabled,c=t.features,l=t.additionalFieldProps,d=t.renderFooter,m=t.renderHeader,p=(t.location,(0,o.Z)(t,["access","fields","title","forms","disabled","features","additionalFieldProps","renderFooter","renderHeader","location"])),f={access:s,disabled:i,features:c,additionalFieldProps:l,renderFooter:d,renderHeader:m,highlighted:this.state.highlighted};return(0,y.BX)("div",_(_({},p),{},{children:[void 0!==a&&a.map((function(t,s){return(0,y.tZ)(u.Fragment,{children:e.renderForm(_({formPanelProps:f},t))},s)})),void 0===a&&void 0!==r&&this.renderForm({fields:r,formPanelProps:f,title:n})]}))}}]),f}(u.Component);Z.displayName="JsonForm";const x=(0,m.withRouter)(Z)},"./app/views/settings/organizationTeams/teamSettings/index.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>C}),s("../node_modules/core-js/modules/es.reflect.construct.js");var o=s("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),r=s("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),n=s("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=s("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),i=s("../node_modules/@babel/runtime/helpers/esm/inherits.js"),c=s("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=s("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=s("../node_modules/@babel/runtime/regenerator/index.js"),m=s.n(u),p=(s("../node_modules/core-js/modules/es.array.concat.js"),s("../node_modules/core-js/modules/es.regexp.exec.js"),s("../node_modules/core-js/modules/es.string.replace.js"),s("../node_modules/core-js/modules/es.array.iterator.js"),s("../node_modules/core-js/modules/es.object.to-string.js"),s("../node_modules/core-js/modules/es.set.js"),s("../node_modules/core-js/modules/es.string.iterator.js"),s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/core-js/modules/es.function.name.js"),s("../node_modules/react/index.js")),f=s("../node_modules/react-router/es/index.js"),h=s("./app/actionCreators/indicator.tsx"),j=s("./app/actionCreators/teams.tsx"),b=s("./app/components/button.tsx"),g=s("./app/components/confirm.tsx"),y=s("./app/components/panels/index.tsx"),v=s("./app/data/forms/teamSettingsFields.tsx"),_=s("./app/icons/index.tsx"),Z=s("./app/locale.tsx"),x=s("./app/utils/withOrganization.tsx"),w=s("./app/views/asyncView.tsx"),I=s("./app/views/settings/components/forms/field/index.tsx"),P=s("./app/views/settings/components/forms/form.tsx"),O=s("./app/views/settings/components/forms/jsonForm.tsx");s("../node_modules/core-js/modules/es.promise.js");const R=function(e){(0,i.Z)(u,e);var t,s,o=(t=u,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,l.Z)(t);if(s){var r=(0,l.Z)(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return(0,c.Z)(this,e)});function u(e,t){var s;return(0,r.Z)(this,u),s=o.call(this),(0,d.Z)((0,a.Z)(s),"orgId",void 0),(0,d.Z)((0,a.Z)(s),"teamId",void 0),s.orgId=e,s.teamId=t,s}return(0,n.Z)(u,[{key:"doApiRequest",value:function(e){var t=this,s=e.data;return new Promise((function(e,o){return(0,j.fs)(t.api,{orgId:t.orgId,teamId:t.teamId,data:s},{success:e,error:o})}))}}]),u}(s("./app/views/settings/components/forms/model.tsx").Z);var S=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");var T=function(e){(0,i.Z)(x,e);var t,s,u=(t=x,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,l.Z)(t);if(s){var r=(0,l.Z)(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return(0,c.Z)(this,e)});function x(){var e;(0,r.Z)(this,x);for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return e=u.call.apply(u,[this].concat(s)),(0,d.Z)((0,a.Z)(e),"model",new R(e.props.params.orgId,e.props.params.teamId)),(0,d.Z)((0,a.Z)(e),"handleSubmitSuccess",(function(t,s,o){(0,j.z_)(t.slug,t),"slug"===o&&((0,h.S9)((0,Z.t)("Team name changed")),f.browserHistory.replace("/settings/".concat(e.props.params.orgId,"/teams/").concat(s.getValue(o),"/settings/")),e.setState({loading:!0}))})),(0,d.Z)((0,a.Z)(e),"handleRemoveTeam",(0,o.Z)(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,j.tT)(e.api,e.props.params);case 2:f.browserHistory.replace("/settings/".concat(e.props.params.orgId,"/teams/"));case 3:case"end":return t.stop()}}),t)})))),e}return(0,n.Z)(x,[{key:"getTitle",value:function(){return"Team Settings"}},{key:"getEndpoints",value:function(){return[]}},{key:"renderBody",value:function(){var e=this.props,t=e.organization,s=e.team,o=new Set(t.access);return(0,S.BX)(p.Fragment,{children:[(0,S.tZ)(P.Z,{model:this.model,apiMethod:"PUT",saveOnBlur:!0,allowUndo:!0,onSubmitSuccess:this.handleSubmitSuccess,onSubmitError:function(){return(0,h.Iw)((0,Z.t)("Unable to save change"))},initialData:{name:s.name,slug:s.slug},children:(0,S.tZ)(O.Z,{access:o,forms:v.default})}),(0,S.BX)(y.s_,{children:[(0,S.tZ)(y.V9,{children:(0,Z.t)("Remove Team")}),(0,S.tZ)(I.Z,{help:(0,Z.t)("This may affect team members' access to projects and associated alert delivery."),children:(0,S.tZ)("div",{children:(0,S.tZ)(g.Z,{disabled:!o.has("team:admin"),onConfirm:this.handleRemoveTeam,priority:"danger",message:(0,Z._N)("Are you sure you want to remove the team [team]?",{team:"#".concat(s.slug)}),children:(0,S.tZ)(b.ZP,{icon:(0,S.tZ)(_.Fz,{}),priority:"danger",disabled:!o.has("team:admin"),children:(0,Z.t)("Remove Team")})})})})]})]})}}]),x}(w.Z);const C=(0,x.Z)(T)}}]);
//# sourceMappingURL=app_views_settings_organizationTeams_teamSettings_index_tsx.js.map