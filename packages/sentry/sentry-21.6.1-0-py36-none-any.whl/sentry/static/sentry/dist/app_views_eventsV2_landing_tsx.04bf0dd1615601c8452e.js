(self.webpackChunk=self.webpackChunk||[]).push([["app_views_eventsV2_landing_tsx"],{"./app/components/activity/item/avatar.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=r("./app/components/avatar/userAvatar.tsx"),s=r("./app/components/placeholder.tsx"),a=r("./app/icons/index.tsx"),i=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(e){var t=e.className,r=e.type,n=e.user,a=e.size,l=void 0===a?38:a;return n?(0,i.tZ)(o.Z,{user:n,size:l,className:t}):"system"===r?(0,i.tZ)(d,{className:t,size:l,children:(0,i.tZ)(u,{size:"md"})}):(0,i.tZ)(s.Z,{className:t,width:"".concat(l,"px"),height:"".concat(l,"px"),shape:"circle"})}l.displayName="ActivityAvatar";const c=l;var d=(0,n.Z)("span",{target:"ety7k0b1"})("display:flex;justify-content:center;align-items:center;width:",(function(e){return e.size}),"px;height:",(function(e){return e.size}),"px;background-color:",(function(e){return e.theme.textColor}),";color:",(function(e){return e.theme.background}),";border-radius:50%;"),u=(0,n.Z)(a.iW,{target:"ety7k0b0"})({name:"1p2ly5v",styles:"padding-bottom:3px"})},"./app/views/eventsV2/landing.tsx":(e,t,r)=>{"use strict";r.r(t),r.d(t,{DiscoverLanding:()=>jt,StyledPageHeader:()=>_t,default:()=>qt}),r("../node_modules/core-js/modules/es.reflect.construct.js"),r("../node_modules/core-js/modules/es.object.keys.js"),r("../node_modules/core-js/modules/es.symbol.js"),r("../node_modules/core-js/modules/es.array.filter.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),r("../node_modules/core-js/modules/es.array.for-each.js"),r("../node_modules/core-js/modules/web.dom-collections.for-each.js"),r("../node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),r("../node_modules/core-js/modules/es.object.define-properties.js"),r("../node_modules/core-js/modules/es.object.define-property.js");var n,o,s=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),a=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),l=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),c=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),d=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),m=(r("../node_modules/core-js/modules/es.array.concat.js"),r("../node_modules/core-js/modules/es.string.trim.js"),r("../node_modules/core-js/modules/es.parse-int.js"),r("../node_modules/core-js/modules/es.array.sort.js"),r("../node_modules/core-js/modules/es.array.find.js"),r("../node_modules/core-js/modules/es.array.reduce.js"),r("../node_modules/core-js/modules/es.function.name.js"),r("../node_modules/core-js/modules/es.array.includes.js"),r("../node_modules/core-js/modules/es.string.includes.js"),r("../node_modules/core-js/modules/es.date.to-string.js"),r("../node_modules/core-js/modules/es.object.to-string.js"),r("../node_modules/core-js/modules/es.regexp.to-string.js"),r("../node_modules/core-js/modules/es.array.map.js"),r("../node_modules/react-router/es/index.js")),f=r("../node_modules/lodash/isEqual.js"),h=r.n(f),y=r("../node_modules/lodash/pick.js"),v=r.n(y),g=r("../node_modules/query-string/index.js"),Z=r("./app/components/acl/feature.tsx"),b=r("./app/components/alert.tsx"),x=r("./app/components/assistant/guideAnchor.tsx"),w=r("./app/components/asyncComponent.tsx"),j=r("./app/components/button.tsx"),C=r("./app/components/dropdownControl.tsx"),P=r("./app/components/lightWeightNoProjectMessage.tsx"),k=r("./app/components/searchBar.tsx"),_=r("./app/components/sentryDocumentTitle.tsx"),S=r("./app/components/switchButton.tsx"),D=r("./app/locale.tsx"),O=r("./app/stores/configStore.tsx"),q=r("./app/styles/organization.tsx"),z=r("./app/styles/space.tsx"),B=r("./app/utils/analytics.tsx"),M=r("./app/utils/discover/eventView.tsx"),Q=r("./app/utils/queryString.tsx"),A=r("./app/utils/withOrganization.tsx"),R=r("./images/spot/discover-tour-alert.svg"),L=r.n(R),N=r("./images/spot/discover-tour-explore.svg"),X=r.n(N),Y=r("./images/spot/discover-tour-filter.svg"),U=r.n(Y),E=r("./images/spot/discover-tour-group.svg"),T=r.n(E),V=r("./app/components/banner.tsx"),I=r("./app/components/modals/featureTourModal.tsx"),H=r("./app/utils/theme.tsx"),G=r("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),K=r("../node_modules/react/index.js"),F=r("../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),W=r("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),J=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),$=(0,W.F4)(n||(n=(0,F.Z)(["\n  0% {opacity: 1;}\n  50% {opacity: 0;}\n  100% {opacity: 1;}\n"]))),ee=(0,W.F4)(o||(o=(0,F.Z)(["\n  0% {transform: translateY(0) translateX(0);}\n  25% {transform: translateY(4px) translateX(-4px);}\n  50% {transform: translateY(0) translateX(0);}\n  75% {transform: translateY(4px) translateX(-4px);}\n  100% {transform: translateY(0) translate(0);}\n"]))),te=(0,p.Z)("path",{target:"e1x941mb2"})("fill:#d35bab;animation:",$," 2s infinite;"),re=(0,p.Z)("path",{target:"e1x941mb1"})("animation:",$," 2s infinite;animation-delay:1s;fill:#ce5d9e;"),ne=(0,p.Z)("g",{target:"e1x941mb0"})("animation:",ee," 10s infinite;");function oe(){return(0,J.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 1160.08 280.01",preserveAspectRatio:"xMinYMin slice",height:"100%",width:"100%",children:[(0,J.BX)("defs",{children:[(0,J.BX)("linearGradient",{id:"linear-gradient",x1:"580",y1:"-163.62",x2:"580",y2:"289.19",gradientUnits:"userSpaceOnUse",children:[(0,J.tZ)("stop",{offset:"0.19",stopColor:"#7a2878"}),(0,J.tZ)("stop",{offset:"0.41",stopColor:"#612765"}),(0,J.tZ)("stop",{offset:"0.56",stopColor:"#54275c"})]}),(0,J.BX)("linearGradient",{id:"linear-gradient-2",x1:"438.93",y1:"-375.6",x2:"619.69",y2:"374.54",gradientUnits:"userSpaceOnUse",children:[(0,J.tZ)("stop",{offset:"0.2",stopColor:"#8b3087"}),(0,J.tZ)("stop",{offset:"0.76",stopColor:"#aa4689"}),(0,J.tZ)("stop",{offset:"1",stopColor:"#a33f79"})]}),(0,J.tZ)("linearGradient",{id:"linear-gradient-3",x1:"114.15",y1:"-573.81",x2:"340.44",y2:"365.28",xlinkHref:"#linear-gradient-2"}),(0,J.BX)("linearGradient",{id:"linear-gradient-4",x1:"1494.33",y1:"259.61",x2:"1494.83",y2:"259.61",gradientUnits:"userSpaceOnUse",children:[(0,J.tZ)("stop",{offset:"0.2",stopColor:"#ff6668"}),(0,J.tZ)("stop",{offset:"0.72",stopColor:"#b44968"})]}),(0,J.tZ)("linearGradient",{id:"linear-gradient-5",x1:"536.86",y1:"213.35",x2:"534.35",y2:"381.73",xlinkHref:"#linear-gradient-4"}),(0,J.BX)("radialGradient",{id:"radial-gradient",cx:"134.5",cy:"307.77",fx:"98.57685568341846",fy:"320.2801558841244",r:"380.71",gradientTransform:"matrix(0.88, 0.47, -0.33, 0.61, 117.41, 55.32)",gradientUnits:"userSpaceOnUse",children:[(0,J.tZ)("stop",{offset:"0.2",stopColor:"#ff7d7f",stopOpacity:"0"}),(0,J.tZ)("stop",{offset:"0.28",stopColor:"#ff7d7f",stopOpacity:"0.02"}),(0,J.tZ)("stop",{offset:"0.38",stopColor:"#ff7d7f",stopOpacity:"0.08"}),(0,J.tZ)("stop",{offset:"0.49",stopColor:"#ff7d7f",stopOpacity:"0.19"}),(0,J.tZ)("stop",{offset:"0.61",stopColor:"#ff7d7f",stopOpacity:"0.33"}),(0,J.tZ)("stop",{offset:"0.73",stopColor:"#ff7d7f",stopOpacity:"0.51"}),(0,J.tZ)("stop",{offset:"0.87",stopColor:"#ff7d7f",stopOpacity:"0.74"}),(0,J.tZ)("stop",{offset:"1",stopColor:"#ff7d7f"})]})]}),(0,J.tZ)("g",{id:"background",children:(0,J.tZ)("rect",{fill:"url(#linear-gradient)",width:"1160",height:"280"})}),(0,J.tZ)("g",{id:"streaks",children:(0,J.BX)("g",{children:[(0,J.tZ)("path",{fill:"#662665",d:"M448.36,280c-4.4-31.92-8.18-68.42-8.77-102.41-1.12-64.44.22-121.22,45.16-177.59H422c-22.16,26.8-35.31,46.33-35.31,46.33S391.52,26.59,403.26,0H378.89a279,279,0,0,0-11.77,49.37C357.57,115.58,373,215.74,385.47,280Z"}),(0,J.tZ)("path",{fill:"#662665",d:"M722.56,137.09c-34.63,39.36-58.79,90.55-58.79,90.55l-12.16-13.52s27.36-62,80.07-96.63S853.82,70.87,853.82,70.87,757.19,97.73,722.56,137.09ZM690.63,280c7.71-43.77,25.77-103.7,68.08-144.26,73.82-70.78,163-64.87,236.84-69.43,58.57-3.62,135.31-11.92,164.53-15.19V0h-102.8A1046.22,1046.22,0,0,1,944.37,21C853.82,33,743.84,63.27,710.56,87.42c0,0,79.91-60.47,147.82-72.47S1004.5,6,1036.26,1.44q4.88-.7,9.44-1.44H872.77c-78.13,11.4-130.26,42.76-189.4,93.34C616.45,150.56,588,263.49,584.16,280Z"}),(0,J.BX)("g",{children:[(0,J.tZ)("path",{fill:"url(#linear-gradient-2)",d:"M210.14,0c1.4,18.35,15.06,27.51,23.7,28.47,9.12,1,9.8-5.92,5.58-10.14-3-3-10.8-6.23-14.69-18.33ZM164.88,0a66.31,66.31,0,0,0,10.85,39.11S149.33,23.48,144.78,0H45.53a182.28,182.28,0,0,0,2,61.75c9,44.59,49,92.74,49,92.74l-37.67,6.08s-26.36-52-29.4-104.06c-1.24-21.3,3-40.85,8.34-56.51H0V280H1160V235.51c-31.07-3.31-115.41-12.26-150.09-15.81C967,215.31,908,206.18,908,206.18s78.05-13.51,146-11.32c42.37,1.37,82.1,4.59,106,6.81l.08-61.67c-19.59,4.72-77.35,18.33-143.41,31.05C935.07,186.76,778,210.74,650.09,179s-157.28-52-157.28-52C428.28,99.76,387.57,93,305.13,84.05S193,37.59,188.57,3.63c-.16-1.21-.26-2.43-.3-3.63ZM408,121.38c-34-9.12-89-26.52-89-26.52s65,6.75,98.15,15.88,91.22,34,91.22,34S442,130.5,408,121.38Z"}),(0,J.tZ)("path",{fill:"url(#linear-gradient-3)",d:"M251.92,34.72s-6.42,6.92,2.7,13.68S274.38,59,277.26,55.67s-2.88-4.57-8.45-11.32S258.17,30.66,251.92,34.72Z"})]})]})}),(0,J.BX)(ne,{id:"planet",children:[(0,J.BX)("g",{children:[(0,J.tZ)("path",{fill:"url(#linear-gradient-4)",d:"M578.57,280c17-12.64,20.48-23.05,9.35-31.25-12.84-9.46-51.69-10.47-77.71-8.95-10.63.62-30.38,3.21-48.62,5.82l15,12.26s46.8-9.8,78.56-6.76,18.07,14.36-.85,24.83c-2.4,1.33-4.82,2.69-7.2,4.05Z"}),(0,J.tZ)("path",{fill:"url(#linear-gradient-5)",d:"M644.87,280l1.5-1.85c18.08-22,23.65-45.78-39.87-62.34C516.1,192.25,417.13,208,417.13,208l-2.36-.67L433.89,223c19.47-3.8,54.48-8.82,93.22-5.83,58.95,4.56,82.18,25.68,86.83,40.38,2.6,8.23-1.23,15.63-7.58,22.46Z"}),(0,J.tZ)("path",{fill:"#ff9371",d:"M644.87,280l1.5-1.85c18.08-22,23.65-45.78-39.87-62.34-40.85-10.65-83.46-13.26-117.89-12.92l-41.86,1.88-2.51.21c20.12-.33,115.29-1,164.37,15.14,55.08,18.08,46.12,39.19,37,50.51-2,2.45-4.72,5.69-7.65,9.37Z"}),(0,J.tZ)("path",{fill:"#ff9371",d:"M576.52,218.6s39.7,10.14,54.39,22.64,3.38,23.82,3.38,23.82,19.26-14.7,3.38-26S576.52,218.6,576.52,218.6Z"}),(0,J.tZ)("path",{fill:"#ff9371",d:"M578.57,280c17-12.64,20.48-23.05,9.35-31.25-12.84-9.46-51.69-10.47-77.71-8.95-8.71.51-23.53,2.34-38.63,4.42,9.12-.58,80.16-4.84,97.85.06,18.91,5.23,20.05,9.61,18.91,18.07-1,7.21-7.14,13.81-11.5,17.65Z"})]}),(0,J.BX)("g",{children:[(0,J.tZ)("path",{fill:"#582163",d:"M509.8,280c-120.75-123.12-289-199.5-475-199.5q-17.49,0-34.76.89V280Z"}),(0,J.tZ)("path",{fill:"#6b2775",d:"M44.2,280,280.72,127.44A661,661,0,0,0,110.17,84.73C83.15,106.24,28.11,150.16,0,173.38V280Z"}),(0,J.tZ)("path",{fill:"#6b2775",d:"M483.75,280l17.43-8.63a670.42,670.42,0,0,0-69.4-59.48L312,280Z"}),(0,J.tZ)("path",{fill:"#ff7d7f",d:"M509.8,280c-120.75-123.12-289-199.5-475-199.5q-17.49,0-34.76.89v4.29C179.75,74.76,363.75,157,494.5,280Z"}),(0,J.tZ)("path",{fill:"url(#radial-gradient)",d:"M509.8,280c-120.74-123.12-289-199.5-475-199.5q-17.49,0-34.76.89V280Z"})]})]}),(0,J.BX)("g",{id:"stars-static",children:[(0,J.tZ)("path",{fill:"#d35bab",d:"M1121.59,268.29c1.28,1.1,4.29,1.4,4.29,1.4s-2.85,0-4.29,1.39c-1.25,1.25-1.4,4.3-1.4,4.3s-.14-3-1.4-4.3c-1-1-4.29-1.39-4.29-1.39s3-.25,4.29-1.4,1.4-4.3,1.4-4.3S1120.14,267.05,1121.59,268.29Z"}),(0,J.tZ)("path",{fill:"#d35bab",d:"M104.51,15.9C106.46,17.56,111,18,111,18s-4.33-.06-6.51,2.12c-1.89,1.88-2.12,6.51-2.12,6.51s-.21-4.57-2.12-6.51C98.73,18.57,93.76,18,93.76,18s4.59-.38,6.51-2.12c1.71-1.56,2.12-6.51,2.12-6.51S102.31,14,104.51,15.9Z"}),(0,J.tZ)("path",{fill:"#d35bab",d:"M196.69,68.5c2.53,2.16,8.44,2.75,8.44,2.75s-5.61-.08-8.44,2.74c-2.45,2.45-2.74,8.44-2.74,8.44s-.27-5.92-2.75-8.44c-2-2-8.43-2.74-8.43-2.74s5.95-.49,8.43-2.75c2.22-2,2.75-8.43,2.75-8.43S193.85,66.07,196.69,68.5Z"}),(0,J.tZ)("path",{fill:"#d35bab",d:"M473,188.45c1.31,1.12,4.38,1.43,4.38,1.43s-2.91,0-4.38,1.43c-1.27,1.27-1.43,4.38-1.43,4.38s-.14-3.07-1.42-4.38c-1-1.06-4.39-1.43-4.39-1.43s3.1-.25,4.39-1.43,1.42-4.38,1.42-4.38S471.53,187.19,473,188.45Z"}),(0,J.tZ)("path",{fill:"#ce5d9e",d:"M693.5,263.34c2.77,2.37,9.28,3,9.28,3s-6.18-.08-9.28,3c-2.7,2.69-3,9.28-3,9.28s-.3-6.5-3-9.28c-2.19-2.24-9.28-3-9.28-3s6.55-.53,9.28-3c2.44-2.23,3-9.28,3-9.28S690.37,260.67,693.5,263.34Z"}),(0,J.tZ)("path",{fill:"#ce5d9e",d:"M752.05,219.29c3.48,3,11.63,3.79,11.63,3.79s-7.73-.11-11.63,3.78c-3.38,3.38-3.78,11.64-3.78,11.64s-.38-8.16-3.79-11.64c-2.75-2.8-11.63-3.78-11.63-3.78s8.21-.67,11.63-3.79c3.06-2.79,3.79-11.63,3.79-11.63S748.13,215.94,752.05,219.29Z"}),(0,J.tZ)("path",{fill:"#ce5d9e",d:"M834.09,219.21c1.85,1.58,6.17,2,6.17,2s-4.1-.06-6.17,2c-1.79,1.79-2,6.17-2,6.17s-.2-4.33-2-6.17c-1.45-1.49-6.17-2-6.17-2s4.36-.35,6.17-2c1.63-1.48,2-6.17,2-6.17S832,217.43,834.09,219.21Z"}),(0,J.tZ)("path",{fill:"#d35bab",d:"M1136.67,159.66c1.81,1.55,6,2,6,2s-4-.06-6,2c-1.75,1.75-2,11.15-2,11.15s-.19-9.35-2-11.15c-1.43-1.45-6-2-6-2s4.25-.35,6-2c1.58-1.44,2-12.06,2-12.06S1134.64,157.93,1136.67,159.66Z"}),(0,J.tZ)("path",{fill:"#d35bab",d:"M482.41,157.12c1.94,1.67,6.51,2.12,6.51,2.12s-4.33-.06-6.51,2.12c-1.89,1.89-2.12,6.51-2.12,6.51s-.21-4.56-2.12-6.51c-1.54-1.57-6.51-2.12-6.51-2.12s4.59-.37,6.51-2.12c1.71-1.56,2.12-6.51,2.12-6.51S480.21,155.25,482.41,157.12Z"}),(0,J.tZ)("path",{fill:"#d35bab",d:"M24.94,36.75c2.84,2.42,9.48,3.08,9.48,3.08s-6.3-.09-9.48,3.09c-2.75,2.75-3.08,17.51-3.08,17.51s-.31-14.68-3.08-17.51c-2.24-2.29-9.48-3.09-9.48-3.09s6.69-.54,9.48-3.08c2.49-2.28,3.08-19,3.08-19S21.75,34,24.94,36.75Z"})]}),(0,J.BX)("g",{id:"stars-twinkle",children:[(0,J.tZ)(te,{d:"M300.17,85.94c3.37,2.89,11.28,3.67,11.28,3.67s-7.5-.1-11.28,3.67c-3.28,3.28-3.67,20.85-3.67,20.85s-.37-17.47-3.67-20.85c-2.67-2.71-11.29-3.67-11.29-3.67s8-.64,11.29-3.67c3-2.7,3.67-22.56,3.67-22.56S296.36,82.69,300.17,85.94Z"}),(0,J.tZ)(re,{fill:"#ce5d9e",d:"M971.51,236.58C976.44,240.79,988,242,988,242s-11-.15-16.49,5.36c-4.79,4.79-5.37,30.48-5.37,30.48s-.53-25.54-5.37-30.48c-3.89-4-16.49-5.36-16.49-5.36s11.64-.95,16.49-5.37c4.34-4,5.37-33,5.37-33S965.94,231.82,971.51,236.58Z"})]})]})}oe.displayName="BackgroundSpace";var se=(0,J.tZ)(j.ZP,{external:!0,href:"https://docs.sentry.io/product/discover-queries/",children:(0,D.t)("View Docs")}),ae=[{title:(0,D.t)("Explore Data over Time"),image:(0,J.tZ)(I.oP,{src:X()}),body:(0,J.tZ)(I.RB,{children:(0,D.t)("Analyze and visualize all of your data over time to find answers to your most complex problems.")}),actions:se},{title:(0,D.t)("Filter on Event Attributes."),image:(0,J.tZ)(I.oP,{src:U()}),body:(0,J.tZ)(I.RB,{children:(0,D.t)("Drill down on data by any custom tag or field to reduce noise and hone in on specific areas.")}),actions:se},{title:(0,D.t)("Group Data by Tags"),image:(0,J.tZ)(I.oP,{src:T()}),body:(0,J.tZ)(I.RB,{children:(0,D.t)("Go beyond Issues and create custom groupings to investigate events from a different lens.")}),actions:se},{title:(0,D.t)("Save, Share and Alert"),image:(0,J.tZ)(I.oP,{src:L()}),body:(0,J.tZ)(I.RB,{children:(0,D.t)("Send insights to your team and set alerts to monitor any future spikes.")})}];function ie(e){var t=e.organization,r=e.resultsUrl,n=function(e){if(!window.matchMedia)return!1;var t=(0,K.useState)((function(){return window.matchMedia(e).matches})),r=(0,G.Z)(t,2),n=r[0],o=r[1];return(0,K.useEffect)((function(){var t=!0,r=window.matchMedia(e),n=function(){t&&o(!!r.matches)};return r.addListener(n),o(r.matches),function(){t=!1,r.removeListener(n)}}),[e]),n}("(max-width: ".concat(H.ZP.breakpoints[1],")"));return(0,J.BX)(V.Z,{title:(0,D.t)("Discover Trends"),subtitle:(0,D.t)("Customize and save queries by search conditions, event fields, and tags"),backgroundComponent:(0,J.tZ)(oe,{}),dismissKey:"discover",children:[(0,J.tZ)(j.ZP,{size:n?"xsmall":void 0,to:r,onClick:function(){(0,B.ec)({eventKey:"discover_v2.build_new_query",eventName:"Discoverv2: Build a new Discover Query",organization_id:parseInt(t.id,10)})},children:(0,D.t)("Build a new query")}),(0,J.tZ)(I.ZP,{steps:ae,doneText:(0,D.t)("View all Events"),doneUrl:r,onAdvance:function(e,r){(0,B.ec)({eventKey:"discover_v2.tour.advance",eventName:"Discoverv2: Tour Advance",organization_id:parseInt(t.id,10),step:e,duration:r})},onCloseModal:function(e,r){(0,B.ec)({eventKey:"discover_v2.tour.close",eventName:"Discoverv2: Tour Close",organization_id:parseInt(t.id,10),step:e,duration:r})},children:function(e){var r=e.showModal;return(0,J.tZ)(j.ZP,{size:n?"xsmall":void 0,onClick:function(){(0,B.ec)({eventKey:"discover_v2.tour.start",eventName:"Discoverv2: Tour Start",organization_id:parseInt(t.id,10)}),r()},children:(0,D.t)("Get a Tour")})}})]})}ie.displayName="DiscoverBanner";const le=ie;var ce=r("./app/views/eventsV2/data.tsx"),de=(r("../node_modules/core-js/modules/es.array.is-array.js"),r("../node_modules/core-js/modules/es.number.constructor.js"),r("../node_modules/core-js/modules/es.regexp.exec.js"),r("../node_modules/core-js/modules/es.string.split.js"),r("../node_modules/classnames/index.js")),ue=r.n(de),pe=r("../node_modules/moment/moment.js"),me=r.n(pe),fe=r("./app/actionCreators/globalSelection.tsx"),he=r("./app/components/dropdownMenu.tsx"),ye=r("./app/components/emptyStateWarning.tsx"),ve=r("./app/components/menuItem.tsx"),ge=r("./app/components/pagination.tsx"),Ze=r("./app/components/timeSince.tsx"),be=r("./app/icons/index.tsx"),xe=r("./app/utils/parseLinkHeader.tsx"),we=r("./app/utils/withApi.tsx"),je=r("./app/views/eventsV2/savedQuery/utils.tsx"),Ce=r("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),Pe=r("../node_modules/@emotion/react/dist/emotion-element-4fbd89c5.browser.esm.js"),ke=r("./app/components/charts/areaChart.tsx"),_e=r("./app/components/charts/barChart.tsx"),Se=r("./app/components/charts/eventsRequest.tsx"),De=r("./app/components/charts/lineChart.tsx"),Oe=r("./app/components/charts/utils.tsx"),qe=r("./app/components/loadingIndicator.tsx"),ze={isLoading:!1,isReloading:!1,maskBackgroundColor:H.ZP.white};function Be(e){var t=e.className,r=e.children,n=e.isReloading,o=e.isLoading,s=e.maskBackgroundColor,a=o||n;return(0,J.BX)(Me,{className:t,children:[a&&(0,J.BX)("div",{children:[(0,J.tZ)(Qe,{isReloading:n,maskBackgroundColor:s}),(0,J.tZ)(Ae,{})]}),r]})}Be.displayName="LoadingContainer",Be.defaultProps=ze;var Me=(0,p.Z)("div",{target:"e1v826ox2"})({name:"bjn8wh",styles:"position:relative"}),Qe=(0,p.Z)("div",{target:"e1v826ox1"})("position:absolute;z-index:1;background-color:",(function(e){return e.maskBackgroundColor}),";width:100%;height:100%;opacity:",(function(e){return e.isReloading?"0.6":"1"}),";"),Ae=(0,p.Z)(qe.Z,{target:"e1v826ox0"})({name:"1aa909c",styles:"position:absolute;z-index:3;width:100%"}),Re=r("./app/utils/dates.tsx"),Le=r("./app/utils/discover/charts.tsx"),Ne=r("./app/utils/discover/fields.tsx"),Xe=r("./app/utils/discover/types.tsx");function Ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ee=function(e){(0,l.Z)(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,d.Z)(t);if(r){var o=(0,d.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function o(){return(0,s.Z)(this,o),n.apply(this,arguments)}return(0,a.Z)(o,[{key:"shouldComponentUpdate",value:function(e){return!h()(this.getRefreshProps(this.props),this.getRefreshProps(e))}},{key:"getRefreshProps",value:function(e){var t=e.organization,r=e.location,n=e.eventView,o=n.getEventsAPIPayload(r),s=o.query,a=o.start?(0,Re.hC)(o.start):null,i=o.end?(0,Re.hC)(o.end):null,l=o.statsPeriod,c=n.getDisplayMode(),d=c===Xe.DC.TOP5||c===Xe.DC.DAILYTOP5,u=c===Xe.DC.DAILYTOP5||c===Xe.DC.DAILY,p=d?o.field:void 0,m=d?Xe.hY:void 0,f=d?(0,Q.ro)(o.sort):void 0;return{organization:t,apiPayload:o,query:s,start:a,end:i,period:l,interval:u?"1d":(0,Oe.ZS)({start:a,end:i,period:l},!0),project:n.project,environment:n.environment,yAxis:n.getYAxis(),field:p,topEvents:m,orderby:f,showDaily:u,expired:n.expired,name:n.name}}},{key:"getChartType",value:function(e){var t=e.showDaily,r=e.yAxis,n=e.timeseriesData;if(t)return"bar";if(n.length>1)switch((0,Ne.fD)(r)){case"line":return"line";case"area":return"area";default:throw new Error("Unknown multi plot type for ".concat(r))}return"area"}},{key:"getChartComponent",value:function(e){switch(e){case"bar":return _e.Z;case"line":return De.Z;case"area":return ke.Z;default:throw new Error("Unknown multi plot type for ".concat(e))}}},{key:"render",value:function(){var e=this,t=this.props,r=t.theme,n=t.api,o=this.getRefreshProps(this.props),s=o.query,a=o.start,i=o.end,l=o.period,c=o.interval,d=o.organization,u=o.project,p=o.environment,m=o.yAxis,f=o.field,h=o.topEvents,y=o.orderby,v=o.showDaily,g=o.expired,Z=o.name;return(0,J.tZ)(Se.Z,{organization:d,api:n,query:s,start:a,end:i,period:l,interval:c,project:u,environment:p,includePrevious:!1,yAxis:m,field:f,topEvents:h,orderby:y,expired:g,name:Z,partial:!0,children:function(t){var n,o=t.loading,s=t.timeseriesData,a=t.results;if(t.errored)return(0,J.tZ)(Te,{children:(0,J.tZ)(be.FC,{color:"gray300",size:"md"})});if(o)return(0,J.tZ)(Te,{children:(0,J.tZ)(qe.Z,{mini:!0})});var i=null!==(n=null!=s?s:a)&&void 0!==n?n:[],l=e.getChartType({showDaily:v,yAxis:m,timeseriesData:i}),c=i.map((function(e){return Ue(Ue({},e),{},{lineStyle:{opacity:"line"===l?1:0},smooth:!0})})),d={colors:i.length?(0,Ce.Z)(r.charts.getColorPalette(i.length-2)):void 0,height:100,series:(0,Ce.Z)(c),xAxis:{show:!1,axisPointer:{show:!1}},yAxis:{show:!0,axisLine:{show:!1},axisLabel:{color:r.chartLabel,fontFamily:r.text.family,fontSize:12,formatter:function(e){return(0,Le.gu)(e,m,!0)},inside:!0,showMinLabel:!1,showMaxLabel:!1},splitNumber:3,splitLine:{show:!1},zlevel:r.zIndex.header},tooltip:{show:!1},toolBox:{show:!1},grid:{left:0,top:0,right:0,bottom:0,containLabel:!1},stacked:"number"==typeof h&&h>0},u=e.getChartComponent(l);return(0,J.tZ)(u,Ue({},d))}})}}]),o}(K.Component);Ee.displayName="MiniGraph";var Te=(0,p.Z)((function(e){return(0,J.tZ)(Be,Ue(Ue({},e),{},{maskBackgroundColor:"transparent"}))}),{target:"e1ts1dxn0"})({name:"1o385ew",styles:"height:100px;display:flex;justify-content:center;align-items:center"});const Ve=(0,we.Z)((0,Pe.b)(Ee));var Ie=r("./app/components/activity/item/avatar.tsx"),He=r("./app/components/card.tsx"),Ge=r("./app/components/links/link.tsx"),Ke=r("./app/styles/overflowEllipsis.tsx"),Fe=r("./app/utils/callIfFunction.tsx");var We=function(e){(0,l.Z)(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,d.Z)(t);if(r){var o=(0,d.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function o(){var e;(0,s.Z)(this,o);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r)),(0,u.Z)((0,i.Z)(e),"handleClick",(function(){var t=e.props.onEventClick;(0,Fe.g)(t)})),e}return(0,a.Z)(o,[{key:"render",value:function(){var e=this.props,t=e.title,r=e.subtitle,n=e.queryDetail,o=e.renderContextMenu,s=e.renderGraph,a=e.createdBy,i=e.dateStatus;return(0,J.tZ)(Ge.Z,{"data-test-id":"card-".concat(t),onClick:this.handleClick,to:this.props.to,children:(0,J.BX)(et,{interactive:!0,children:[(0,J.BX)(tt,{children:[(0,J.BX)($e,{children:[(0,J.tZ)(rt,{children:t}),(0,J.tZ)(nt,{children:n})]}),(0,J.tZ)(Je,{children:a?(0,J.tZ)(Ie.Z,{type:"user",user:a,size:34}):(0,J.tZ)(Ie.Z,{type:"system",size:34})})]}),(0,J.tZ)(ot,{children:s()}),(0,J.BX)(st,{children:[(0,J.BX)(at,{children:[r,i?(0,J.BX)(it,{children:[(0,D.t)("Edited")," ",i]}):null]}),o&&o()]})]})})}}]),o}(K.PureComponent);We.displayName="QueryCard";var Je=(0,p.Z)("span",{target:"edx1qyo9"})("border:3px solid ",(function(e){return e.theme.border}),";border-radius:50%;height:min-content;"),$e=(0,p.Z)("div",{target:"edx1qyo8"})("flex-grow:1;overflow:hidden;margin-right:",(0,z.Z)(1),";"),et=(0,p.Z)(He.Z,{target:"edx1qyo7"})({name:"1h9y2eg",styles:"justify-content:space-between;height:100%;&:focus,&:hover{top:-1px;}"}),tt=(0,p.Z)("div",{target:"edx1qyo6"})("display:flex;padding:",(0,z.Z)(1.5)," ",(0,z.Z)(2),";"),rt=(0,p.Z)("div",{target:"edx1qyo5"})("color:",(function(e){return e.theme.textColor}),";",Ke.Z,";"),nt=(0,p.Z)("div",{target:"edx1qyo4"})("font-family:",(function(e){return e.theme.text.familyMono}),";font-size:",(function(e){return e.theme.fontSizeSmall}),";color:",(function(e){return e.theme.gray300}),";line-height:1.5;",Ke.Z,";"),ot=(0,p.Z)("div",{target:"edx1qyo3"})("background:",(function(e){return e.theme.backgroundSecondary}),";max-height:100px;height:100%;overflow:hidden;"),st=(0,p.Z)("div",{target:"edx1qyo2"})("display:flex;justify-content:space-between;align-items:center;padding:",(0,z.Z)(1)," ",(0,z.Z)(2),";"),at=(0,p.Z)("div",{target:"edx1qyo1"})("font-size:",(function(e){return e.theme.fontSizeSmall}),";display:grid;grid-column-gap:",(0,z.Z)(1),";",Ke.Z,";color:",(function(e){return e.theme.textColor}),";"),it=(0,p.Z)("span",{target:"edx1qyo0"})("color:",(function(e){return e.theme.purple300}),";padding-left:",(0,z.Z)(1),";");const lt=We;var ct=r("./app/views/eventsV2/utils.tsx");function dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pt=function(e){(0,l.Z)(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,d.Z)(t);if(r){var o=(0,d.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function o(){var e;(0,s.Z)(this,o);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r)),(0,u.Z)((0,i.Z)(e),"handleDeleteQuery",(function(t){return function(r){r.preventDefault(),r.stopPropagation();var n=e.props,o=n.api,s=n.organization,a=n.onQueryChange,i=n.location,l=n.savedQueries;(0,je.Uc)(o,s,t).then((function(){1===l.length&&i.query.cursor?m.browserHistory.push({pathname:i.pathname,query:ut(ut({},i.query),{},{cursor:void 0})}):a()}))}})),(0,u.Z)((0,i.Z)(e),"handleDuplicateQuery",(function(t){return function(r){r.preventDefault(),r.stopPropagation();var n=e.props,o=n.api,s=n.location,a=n.organization,i=n.onQueryChange;(t=t.clone()).name="".concat(t.name," copy"),(0,je.b2)(o,a,t).then((function(){i(),m.browserHistory.push({pathname:s.pathname,query:{}})}))}})),e}return(0,a.Z)(o,[{key:"componentDidMount",value:function(){(0,fe.qV)()}},{key:"renderQueries",value:function(){var e=this.props,t=e.pageLinks,r=e.renderPrebuilt,n=(0,xe.Z)(t||""),o=[];return!r||n.previous&&!1!==n.previous.results||(o=o.concat(this.renderPrebuiltQueries())),0===(o=o.concat(this.renderSavedQueries())).filter((function(e){return e})).length?(0,J.tZ)(gt,{children:(0,J.tZ)("p",{children:(0,D.t)("No saved queries match that filter")})}):o}},{key:"renderPrebuiltQueries",value:function(){var e=this,t=this.props,r=t.location,n=t.organization,o=t.savedQuerySearchQuery,s=(0,ct.Ur)(n),a="string"==typeof o&&o.length>0,i=a?o.toLowerCase():"";return s.map((function(t,o){var s=M.ZP.fromNewQueryWithLocation(t,r);if(a&&s.name&&!s.name.toLowerCase().includes(i))return null;var l=(0,D.t)("Last ")+s.statsPeriod,c=me()(s.start).format("MMM D, YYYY h:mm A")+" - "+me()(s.end).format("MMM D, YYYY h:mm A"),d=s.getResultsViewUrlTarget(n.slug);return(0,J.tZ)(lt,{to:d,title:s.name,subtitle:s.statsPeriod?l:c,queryDetail:s.query,createdBy:s.createdBy,renderGraph:function(){return(0,J.tZ)(Ve,{location:r,eventView:s,organization:n})},onEventClick:function(){(0,B.ec)({eventKey:"discover_v2.prebuilt_query_click",eventName:"Discoverv2: Click a pre-built query",organization_id:parseInt(e.props.organization.id,10),query_name:s.name})}},"".concat(o,"-").concat(s.name))}))}},{key:"renderSavedQueries",value:function(){var e=this,t=this.props,r=t.savedQueries,n=t.location,o=t.organization;return r&&Array.isArray(r)&&0!==r.length?r.map((function(t,r){var s=M.ZP.fromSavedQuery(t),a=(0,D.t)("Last ")+s.statsPeriod,i=me()(s.start).format("MMM D, YYYY h:mm A")+" - "+me()(s.end).format("MMM D, YYYY h:mm A"),l=s.getResultsViewShortUrlTarget(o.slug),c=(0,J.tZ)(Ze.Z,{date:t.dateUpdated});return(0,J.tZ)(lt,{to:l,title:s.name,subtitle:s.statsPeriod?a:i,queryDetail:s.query,createdBy:s.createdBy,dateStatus:c,onEventClick:function(){(0,B.ec)({eventKey:"discover_v2.saved_query_click",eventName:"Discoverv2: Click a saved query",organization_id:parseInt(e.props.organization.id,10)})},renderGraph:function(){return(0,J.tZ)(Ve,{location:n,eventView:s,organization:o})},renderContextMenu:function(){return(0,J.BX)(ht,{children:[(0,J.tZ)(ve.Z,{"data-test-id":"delete-query",onClick:e.handleDeleteQuery(s),children:(0,D.t)("Delete Query")}),(0,J.tZ)(ve.Z,{"data-test-id":"duplicate-query",onClick:e.handleDuplicateQuery(s),children:(0,D.t)("Duplicate Query")})]})}},"".concat(r,"-").concat(s.id))})):[]}},{key:"render",value:function(){var e=this.props.pageLinks;return(0,J.BX)(K.Fragment,{children:[(0,J.tZ)(ft,{children:this.renderQueries()}),(0,J.tZ)(mt,{pageLinks:e,onCursor:function(e,t,r,n){var o=Number(e.split(":")[1]),s=ut(ut({},r),{},{cursor:e});o<=0&&-1===n&&delete s.cursor,m.browserHistory.push({pathname:t,query:s})}})]})}}]),o}(K.Component);pt.displayName="QueryList";var mt=(0,p.Z)(ge.Z,{target:"e1m5p7vx4"})({name:"1azpx8r",styles:"margin-bottom:20px"}),ft=(0,p.Z)("div",{target:"e1m5p7vx3"})("display:grid;grid-template-columns:minmax(100px, 1fr);grid-gap:",(0,z.Z)(2),";@media (min-width: ",(function(e){return e.theme.breakpoints[1]}),"){grid-template-columns:repeat(2, minmax(100px, 1fr));}@media (min-width: ",(function(e){return e.theme.breakpoints[2]}),"){grid-template-columns:repeat(3, minmax(100px, 1fr));}"),ht=function(e){var t=e.children;return(0,J.tZ)(he.Z,{children:function(e){var r=e.isOpen,n=e.getRootProps,o=e.getActorProps,s=e.getMenuProps,a=ue()("dropdown",{"anchor-right":!0,open:r});return(0,J.BX)(yt,ut(ut({},n({className:a})),{},{children:[(0,J.tZ)(vt,ut(ut({},o({onClick:function(e){e.stopPropagation(),e.preventDefault()}})),{},{children:(0,J.tZ)(be.YR,{"data-test-id":"context-menu",size:"md"})})),r&&(0,J.tZ)("ul",ut(ut({},s({})),{},{className:ue()("dropdown-menu"),children:t}))]}))}})};ht.displayName="ContextMenu";var yt=(0,p.Z)("span",{target:"e1m5p7vx2"})("display:flex;color:",(function(e){return e.theme.textColor}),";"),vt=(0,p.Z)("div",{target:"e1m5p7vx1"})({name:"zjik7",styles:"display:flex"}),gt=(0,p.Z)(ye.Z,{target:"e1m5p7vx0"})({name:"1wygoze",styles:"grid-column:1/4"});const Zt=(0,we.Z)(pt);function bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var wt=[{label:(0,D.t)("My Queries"),value:"myqueries"},{label:(0,D.t)("Recently Edited"),value:"-dateUpdated"},{label:(0,D.t)("Query Name (A-Z)"),value:"name"},{label:(0,D.t)("Date Created (Newest)"),value:"-dateCreated"},{label:(0,D.t)("Date Created (Oldest)"),value:"dateCreated"},{label:(0,D.t)("Most Outdated"),value:"dateUpdated"}],jt=function(e){(0,l.Z)(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,d.Z)(t);if(r){var o=(0,d.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function o(){var e;(0,s.Z)(this,o);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r)),(0,u.Z)((0,i.Z)(e),"state",{loading:!0,reloading:!1,error:!1,errors:{},renderPrebuilt:(0,ct.tG)(),savedQueries:null,savedQueriesPageLinks:""}),(0,u.Z)((0,i.Z)(e),"shouldReload",!0),(0,u.Z)((0,i.Z)(e),"handleQueryChange",(function(){e.fetchData({reloading:!0})})),(0,u.Z)((0,i.Z)(e),"handleSearchQuery",(function(t){var r=e.props.location;m.browserHistory.push({pathname:r.pathname,query:xt(xt({},r.query),{},{cursor:void 0,query:String(t).trim()||void 0})})})),(0,u.Z)((0,i.Z)(e),"handleSortChange",(function(t){var r=e.props.location;(0,B.ec)({eventKey:"discover_v2.change_sort",eventName:"Discoverv2: Sort By Changed",organization_id:parseInt(e.props.organization.id,10),sort:t}),m.browserHistory.push({pathname:r.pathname,query:xt(xt({},r.query),{},{cursor:void 0,sort:t})})})),(0,u.Z)((0,i.Z)(e),"togglePrebuilt",(function(){var t=e.state.renderPrebuilt;e.setState({renderPrebuilt:!t},(function(){(0,ct.u)(!t),e.fetchData({reloading:!0})}))})),(0,u.Z)((0,i.Z)(e),"onGoLegacyDiscover",(function(){localStorage.setItem("discover:version","1");var t=O.Z.get("user");(0,B.ec)({eventKey:"discover_v2.opt_out",eventName:"Discoverv2: Go to discover",organization_id:parseInt(e.props.organization.id,10),user_id:parseInt(t.id,10)})})),e}return(0,a.Z)(o,[{key:"getSavedQuerySearchQuery",value:function(){var e=this.props.location;return(0,Q.ro)(e.query.query,"").trim()}},{key:"getActiveSort",value:function(){var e=this.props.location,t=(0,Q.ro)(e.query.sort,"myqueries");return wt.find((function(e){return e.value===t}))||wt[0]}},{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,r=e.location,n=(0,ct.Ur)(t),o=this.getSavedQuerySearchQuery(),s=(0,Q.ro)(r.query.cursor),a=9,i=this.state?this.state.renderPrebuilt:(0,ct.tG)();if(!s&&i)if(o&&o.length>0){var l=o.toLowerCase(),c=n.reduce((function(e,t){var n=M.ZP.fromNewQueryWithLocation(t,r);return n.name&&n.name.toLowerCase().includes(l)?e+1:e}),0);a=Math.max(1,a-c)}else a=Math.max(1,a-n.length);var d={cursor:s,query:'version:2 name:"'.concat(o,'"'),per_page:a.toString(),sortBy:this.getActiveSort().value};return s||delete d.cursor,[["savedQueries","/organizations/".concat(t.slug,"/discover/saved/"),{query:d}]]}},{key:"componentDidUpdate",value:function(e){var t=["sort","cursor","query"];!h()(v()(e.location.query,t),v()(this.props.location.query,t))&&this.fetchData()}},{key:"renderBanner",value:function(){var e=this.props,t=e.location,r=e.organization,n=M.ZP.fromNewQueryWithLocation(ce.eP,t).getResultsViewUrlTarget(r.slug),o="".concat(n.pathname,"?").concat((0,g.stringify)(n.query));return(0,J.tZ)(le,{organization:r,resultsUrl:o})}},{key:"renderActions",value:function(){var e=this,t=this.getActiveSort(),r=this.state,n=r.renderPrebuilt,o=r.savedQueries;return(0,J.BX)(Dt,{children:[(0,J.tZ)(St,{defaultQuery:"",query:this.getSavedQuerySearchQuery(),placeholder:(0,D.t)("Search saved queries"),onSearch:this.handleSearchQuery}),(0,J.BX)(Pt,{children:[(0,J.tZ)(kt,{children:"Show Prebuilt"}),(0,J.tZ)(S.Z,{isActive:n,isDisabled:n&&0===(null!=o?o:[]).length,size:"lg",toggle:this.togglePrebuilt})]}),(0,J.tZ)(C.ZP,{buttonProps:{prefix:(0,D.t)("Sort By")},label:t.label,children:wt.map((function(r){var n=r.label,o=r.value;return(0,J.tZ)(C.hP,{onSelect:e.handleSortChange,eventKey:o,isActive:o===t.value,children:n},o)}))})]})}},{key:"renderNoAccess",value:function(){return(0,J.tZ)(q.JH,{children:(0,J.tZ)(b.Z,{type:"warning",children:(0,D.t)("You don't have access to this feature")})})}},{key:"renderBody",value:function(){var e=this.props,t=e.location,r=e.organization,n=this.state,o=n.savedQueries,s=n.savedQueriesPageLinks,a=n.renderPrebuilt;return(0,J.tZ)(Zt,{pageLinks:s,savedQueries:null!=o?o:[],savedQuerySearchQuery:this.getSavedQuerySearchQuery(),renderPrebuilt:a,location:t,organization:r,onQueryChange:this.handleQueryChange})}},{key:"render",value:function(){var e=this,t=this.props,r=t.location,n=t.organization,o=M.ZP.fromNewQueryWithLocation(ce.eP,r).getResultsViewUrlTarget(n.slug);return(0,J.tZ)(Z.Z,{organization:n,features:["discover-query"],renderDisabled:this.renderNoAccess,children:(0,J.tZ)(_.Z,{title:(0,D.t)("Discover"),orgSlug:n.slug,children:(0,J.tZ)(Ct,{children:(0,J.tZ)(P.Z,{organization:n,children:(0,J.BX)(q.JH,{children:[(0,J.BX)(_t,{children:[(0,J.tZ)(x.Z,{target:"discover_landing_header",children:(0,D.t)("Discover")}),(0,J.tZ)(Ot,{"data-test-id":"build-new-query",to:o,priority:"primary",onClick:function(){(0,B.ec)({eventKey:"discover_v2.build_new_query",eventName:"Discoverv2: Build a new Discover Query",organization_id:parseInt(e.props.organization.id,10)})},children:(0,D.t)("Build a new query")})]}),this.renderBanner(),this.renderActions(),this.renderComponent()]})})})})})}}]),o}(w.Z);jt.displayName="DiscoverLanding";var Ct=(0,p.Z)(q.JH,{target:"es9haop6"})({name:"1hcx8jb",styles:"padding:0"}),Pt=(0,p.Z)("div",{target:"es9haop5"})({name:"zjik7",styles:"display:flex"}),kt=(0,p.Z)("div",{target:"es9haop4"})({name:"13vjjlj",styles:"padding-right:8px"}),_t=(0,p.Z)("div",{target:"es9haop3"})("display:flex;align-items:flex-end;font-size:",(function(e){return e.theme.headerFontSize}),";color:",(function(e){return e.theme.textColor}),";justify-content:space-between;margin-bottom:",(0,z.Z)(2),";"),St=(0,p.Z)(k.Z,{target:"es9haop2"})({name:"1ff36h2",styles:"flex-grow:1"}),Dt=(0,p.Z)("div",{target:"es9haop1"})("display:grid;grid-gap:",(0,z.Z)(2),";grid-template-columns:auto max-content min-content;align-items:center;margin-bottom:",(0,z.Z)(2),";@media (max-width: ",(function(e){return e.theme.breakpoints[0]}),"){grid-template-columns:auto;}"),Ot=(0,p.Z)(j.ZP,{target:"es9haop0"})({name:"1bmnxg7",styles:"white-space:nowrap"});const qt=(0,A.Z)(jt)},"./images/spot/discover-tour-alert.svg":(e,t,r)=>{e.exports=r.p+"spot/discover-tour-alert.2081d2.svg"},"./images/spot/discover-tour-explore.svg":(e,t,r)=>{e.exports=r.p+"spot/discover-tour-explore.e00a99.svg"},"./images/spot/discover-tour-filter.svg":(e,t,r)=>{e.exports=r.p+"spot/discover-tour-filter.1825f4.svg"},"./images/spot/discover-tour-group.svg":(e,t,r)=>{e.exports=r.p+"spot/discover-tour-group.f556f9.svg"}}]);
//# sourceMappingURL=app_views_eventsV2_landing_tsx.js.map